{"remainingRequest":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/vue-antd-admin/src/utils/routerUtil.js","dependencies":[{"path":"/Applications/MAMP/gopath/vue-antd-admin/src/utils/routerUtil.js","mtime":1598927029047},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2dvcGF0aC92dWUtYW50ZC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9BcHBsaWNhdGlvbnMvTUFNUC9nb3BhdGgvdnVlLWFudGQtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCByb3V0ZXJNYXAgZnJvbSAnQC9yb3V0ZXIvYXN5bmMvcm91dGVyLm1hcCc7CmltcG9ydCB7IG1lcmdlSTE4bkZyb21Sb3V0ZXMgfSBmcm9tICdAL3V0aWxzL2kxOG4nOwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwovKioKICog5qC55o2uIOi3r+eUsemFjee9riDlkowg6Lev55Sx57uE5Lu25rOo5YaMIOino+aekOi3r+eUsQogKiBAcGFyYW0gcm91dGVzQ29uZmlnIOi3r+eUsemFjee9rgogKiBAcGFyYW0gcm91dGVyTWFwIOacrOWcsOi3r+eUsee7hOS7tuazqOWGjOmFjee9rgogKi8KCmZ1bmN0aW9uIHBhcnNlUm91dGVzKHJvdXRlc0NvbmZpZywgcm91dGVyTWFwKSB7CiAgdmFyIHJvdXRlcyA9IFtdOwogIHJvdXRlc0NvbmZpZy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAvLyDojrflj5bms6jlhozlnKggcm91dGVyTWFwIOS4reeahCByb3V0ZXLvvIzliJ3lp4vljJYgcm91dGVDZmcKICAgIHZhciByb3V0ZXIgPSB1bmRlZmluZWQsCiAgICAgICAgcm91dGVDZmcgPSB7fTsKCiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmIHJvdXRlck1hcFtpdGVtXSkgewogICAgICByb3V0ZXIgPSByb3V0ZXJNYXBbaXRlbV07CiAgICAgIHJvdXRlQ2ZnID0gewogICAgICAgIHBhdGg6IHJvdXRlci5wYXRoIHx8IGl0ZW0sCiAgICAgICAgcm91dGVyOiBpdGVtCiAgICAgIH07CiAgICB9IGVsc2UgaWYgKF90eXBlb2YoaXRlbSkgPT09ICdvYmplY3QnKSB7CiAgICAgIHJvdXRlciA9IHJvdXRlck1hcFtpdGVtLnJvdXRlcl07CiAgICAgIHJvdXRlQ2ZnID0gaXRlbTsKICAgIH0gLy8g5LuOIHJvdXRlciDlkowgcm91dGVDZmcg6Kej5p6Q6Lev55SxCgoKICAgIGlmICghcm91dGVyKSB7CiAgICAgIGNvbnNvbGUud2FybigiY2FuJ3QgZmluZCByZWdpc3RlciBmb3Igcm91dGVyICIuY29uY2F0KHJvdXRlQ2ZnLnJvdXRlciwgIiwgcGxlYXNlIHJlZ2lzdGVyIGl0IGluIGFkdmFuY2UuIikpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJvdXRlID0gewogICAgICAgIHBhdGg6IHJvdXRlQ2ZnLnBhdGggfHwgcm91dGVyLnBhdGggfHwgcm91dGVDZmcucm91dGVyLAogICAgICAgIG5hbWU6IHJvdXRlQ2ZnLm5hbWUgfHwgcm91dGVyLm5hbWUsCiAgICAgICAgY29tcG9uZW50OiByb3V0ZXIuY29tcG9uZW50LAogICAgICAgIHJlZGlyZWN0OiByb3V0ZUNmZy5yZWRpcmVjdCB8fCByb3V0ZXIucmVkaXJlY3QsCiAgICAgICAgbWV0YTogewogICAgICAgICAgYXV0aG9yaXR5OiByb3V0ZUNmZy5hdXRob3JpdHkgfHwgcm91dGVyLmF1dGhvcml0eSB8fCAnKicsCiAgICAgICAgICBpY29uOiByb3V0ZUNmZy5pY29uIHx8IHJvdXRlci5pY29uLAogICAgICAgICAgcGFnZTogcm91dGVDZmcucGFnZSB8fCByb3V0ZXIucGFnZQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmIChyb3V0ZUNmZy5pbnZpc2libGUgfHwgcm91dGVyLmludmlzaWJsZSkgewogICAgICAgIHJvdXRlLm1ldGEuaW52aXNpYmxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHJvdXRlQ2ZnLmNoaWxkcmVuICYmIHJvdXRlQ2ZnLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICByb3V0ZS5jaGlsZHJlbiA9IHBhcnNlUm91dGVzKHJvdXRlQ2ZnLmNoaWxkcmVuLCByb3V0ZXJNYXApOwogICAgICB9CgogICAgICByb3V0ZXMucHVzaChyb3V0ZSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJvdXRlczsKfQovKioKICog5Yqg6L296Lev55SxCiAqIEBwYXJhbSByb3V0ZXIg5bqU55So6Lev55Sx5a6e5L6LCiAqIEBwYXJhbSBzdG9yZSDlupTnlKjnmoQgdnVleC5zdG9yZSDlrp7kvosKICogQHBhcmFtIGkxOG4g5bqU55So55qEIHZ1ZS1pMThuIOWunuS+iwogKiBAcGFyYW0gcm91dGVzQ29uZmlnIOi3r+eUsemFjee9rgogKi8KCgpmdW5jdGlvbiBsb2FkUm91dGVzKF9yZWYsIHJvdXRlc0NvbmZpZykgewogIHZhciByb3V0ZXIgPSBfcmVmLnJvdXRlciwKICAgICAgc3RvcmUgPSBfcmVmLnN0b3JlLAogICAgICBpMThuID0gX3JlZi5pMThuOwoKICAvLyDlpoLmnpwgcm91dGVzQ29uZmlnIOacieWAvO+8jOWImeabtOaWsOWIsOacrOWcsO+8jOWQpuWImeS7juacrOWcsOiOt+WPlgogIGlmIChyb3V0ZXNDb25maWcpIHsKICAgIHN0b3JlLmNvbW1pdCgnYWNjb3VudC9zZXRSb3V0ZXNDb25maWcnLCByb3V0ZXNDb25maWcpOwogIH0gZWxzZSB7CiAgICByb3V0ZXNDb25maWcgPSBzdG9yZS5nZXR0ZXJzWydhY2NvdW50L3JvdXRlc0NvbmZpZyddOwogIH0gLy8g5aaC5p6c5byA5ZCv5LqG5byC5q2l6Lev55Sx77yM5YiZ5Yqg6L295byC5q2l6Lev55Sx6YWN572uCgoKICB2YXIgYXN5bmNSb3V0ZXMgPSBzdG9yZS5zdGF0ZS5zZXR0aW5nLmFzeW5jUm91dGVzOwoKICBpZiAoYXN5bmNSb3V0ZXMpIHsKICAgIGlmIChyb3V0ZXNDb25maWcgJiYgcm91dGVzQ29uZmlnLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHJvdXRlcyA9IHBhcnNlUm91dGVzKHJvdXRlc0NvbmZpZywgcm91dGVyTWFwKTsKICAgICAgZm9ybWF0QXV0aG9yaXR5KHJvdXRlcyk7CiAgICAgIHZhciBmaW5hbFJvdXRlcyA9IG1lcmdlUm91dGVzKHJvdXRlci5vcHRpb25zLnJvdXRlcywgcm91dGVzKTsKICAgICAgcm91dGVyLm9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJvdXRlci5vcHRpb25zKSwge30sIHsKICAgICAgICByb3V0ZXM6IGZpbmFsUm91dGVzCiAgICAgIH0pOwogICAgICByb3V0ZXIubWF0Y2hlciA9IG5ldyBSb3V0ZXIoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZXIub3B0aW9ucyksIHt9LCB7CiAgICAgICAgcm91dGVzOiBbXQogICAgICB9KSkubWF0Y2hlcjsKICAgICAgcm91dGVyLmFkZFJvdXRlcyhmaW5hbFJvdXRlcyk7CiAgICB9CiAgfSAvLyDmj5Dlj5bot6/nlLHlm73pmYXljJbmlbDmja4KCgogIG1lcmdlSTE4bkZyb21Sb3V0ZXMoaTE4biwgcm91dGVyLm9wdGlvbnMucm91dGVzKTsgLy8g5Yid5aeL5YyWQWRtaW7lkI7lj7Doj5zljZXmlbDmja4KCiAgdmFyIHJvb3RSb3V0ZSA9IHJvdXRlci5vcHRpb25zLnJvdXRlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5wYXRoID09PSAnLyc7CiAgfSk7CiAgdmFyIG1lbnVSb3V0ZXMgPSByb290Um91dGUgJiYgcm9vdFJvdXRlLmNoaWxkcmVuOwoKICBpZiAobWVudVJvdXRlcykgewogICAgc3RvcmUuY29tbWl0KCdzZXR0aW5nL3NldE1lbnVEYXRhJywgbWVudVJvdXRlcyk7CiAgfQp9Ci8qKgogKiDlkIjlubbot6/nlLEKICogQHBhcmFtIHRhcmdldCB7Um91dGVbXX0KICogQHBhcmFtIHNvdXJjZSB7Um91dGVbXX0KICogQHJldHVybnMge1JvdXRlW119CiAqLwoKCmZ1bmN0aW9uIG1lcmdlUm91dGVzKHRhcmdldCwgc291cmNlKSB7CiAgdmFyIHJvdXRlc01hcCA9IHt9OwogIHRhcmdldC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gcm91dGVzTWFwW2l0ZW0ucGF0aF0gPSBpdGVtOwogIH0pOwogIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gcm91dGVzTWFwW2l0ZW0ucGF0aF0gPSBpdGVtOwogIH0pOwogIHJldHVybiBPYmplY3QudmFsdWVzKHJvdXRlc01hcCk7Cn0KLyoqCiAqIOagvOW8j+WMlui3r+eUseeahOadg+mZkOmFjee9rgogKiBAcGFyYW0gcm91dGVzCiAqLwoKCmZ1bmN0aW9uIGZvcm1hdEF1dGhvcml0eShyb3V0ZXMpIHsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIHZhciBtZXRhID0gcm91dGUubWV0YTsKCiAgICBpZiAobWV0YSkgewogICAgICB2YXIgYXV0aG9yaXR5ID0ge307CgogICAgICBpZiAoIW1ldGEuYXV0aG9yaXR5KSB7CiAgICAgICAgYXV0aG9yaXR5LnBlcm1pc3Npb24gPSAnKic7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGEuYXV0aG9yaXR5ID09PSAnc3RyaW5nJykgewogICAgICAgIGF1dGhvcml0eS5wZXJtaXNzaW9uID0gbWV0YS5hdXRob3JpdHk7CiAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihtZXRhLmF1dGhvcml0eSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgYXV0aG9yaXR5ID0gbWV0YS5hdXRob3JpdHk7CiAgICAgICAgdmFyIF9hdXRob3JpdHkgPSBhdXRob3JpdHksCiAgICAgICAgICAgIHJvbGUgPSBfYXV0aG9yaXR5LnJvbGU7CgogICAgICAgIGlmICh0eXBlb2Ygcm9sZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIGF1dGhvcml0eS5yb2xlID0gW3JvbGVdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhfdHlwZW9mKG1ldGEuYXV0aG9yaXR5KSk7CiAgICAgIH0KCiAgICAgIG1ldGEuYXV0aG9yaXR5ID0gYXV0aG9yaXR5OwogICAgfSBlbHNlIHsKICAgICAgcm91dGUubWV0YSA9IHsKICAgICAgICBhdXRob3JpdHk6IHsKICAgICAgICAgIHBlcm1pc3Npb246ICcqJwogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICBpZiAocm91dGUuY2hpbGRyZW4pIHsKICAgICAgZm9ybWF0QXV0aG9yaXR5KHJvdXRlLmNoaWxkcmVuKTsKICAgIH0KICB9KTsKfQovKioKICog5LuO6Lev55SxIHBhdGgg6Kej5p6QIGkxOG4ga2V5CiAqIEBwYXJhbSBwYXRoCiAqIEByZXR1cm5zIHsqfQogKi8KCgpmdW5jdGlvbiBnZXRJMThuS2V5KHBhdGgpIHsKICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiAhaXRlbS5zdGFydHNXaXRoKCc6JykgJiYgaXRlbSAhPSAnJzsKICB9KTsKICBrZXlzLnB1c2goJ25hbWUnKTsKICByZXR1cm4ga2V5cy5qb2luKCcuJyk7Cn0KLyoqCiAqIOWKoOi9veWvvOiIquWuiOWNqwogKiBAcGFyYW0gZ3VhcmRzCiAqIEBwYXJhbSBvcHRpb25zCiAqLwoKCmZ1bmN0aW9uIGxvYWRHdWFyZHMoZ3VhcmRzLCBvcHRpb25zKSB7CiAgdmFyIGJlZm9yZUVhY2ggPSBndWFyZHMuYmVmb3JlRWFjaCwKICAgICAgYWZ0ZXJFYWNoID0gZ3VhcmRzLmFmdGVyRWFjaDsKICB2YXIgcm91dGVyID0gb3B0aW9ucy5yb3V0ZXI7CiAgYmVmb3JlRWFjaC5mb3JFYWNoKGZ1bmN0aW9uIChndWFyZCkgewogICAgaWYgKGd1YXJkICYmIHR5cGVvZiBndWFyZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICByb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAgICAgICByZXR1cm4gZ3VhcmQodG8sIGZyb20sIG5leHQsIG9wdGlvbnMpOwogICAgICB9KTsKICAgIH0KICB9KTsKICBhZnRlckVhY2guZm9yRWFjaChmdW5jdGlvbiAoZ3VhcmQpIHsKICAgIGlmIChndWFyZCAmJiB0eXBlb2YgZ3VhcmQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8sIGZyb20pIHsKICAgICAgICByZXR1cm4gZ3VhcmQodG8sIGZyb20sIG9wdGlvbnMpOwogICAgICB9KTsKICAgIH0KICB9KTsKfQoKZXhwb3J0IHsgcGFyc2VSb3V0ZXMsIGxvYWRSb3V0ZXMsIGZvcm1hdEF1dGhvcml0eSwgZ2V0STE4bktleSwgbG9hZEd1YXJkcyB9Ow=="},{"version":3,"sources":["/Applications/MAMP/gopath/vue-antd-admin/src/utils/routerUtil.js"],"names":["routerMap","mergeI18nFromRoutes","Router","parseRoutes","routesConfig","routes","forEach","item","router","undefined","routeCfg","path","console","warn","route","name","component","redirect","meta","authority","icon","page","invisible","children","length","push","loadRoutes","store","i18n","commit","getters","asyncRoutes","state","setting","formatAuthority","finalRoutes","mergeRoutes","options","matcher","addRoutes","rootRoute","find","menuRoutes","target","source","routesMap","Object","values","permission","role","log","getI18nKey","keys","split","filter","startsWith","join","loadGuards","guards","beforeEach","afterEach","guard","to","from","next"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,SAAP,MAAsB,2BAAtB;AACA,SAAQC,mBAAR,QAAkC,cAAlC;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA;;;;;;AAKA,SAASC,WAAT,CAAqBC,YAArB,EAAmCJ,SAAnC,EAA8C;AAC5C,MAAIK,MAAM,GAAG,EAAb;AACAD,EAAAA,YAAY,CAACE,OAAb,CAAqB,UAAAC,IAAI,EAAI;AAC3B;AACA,QAAIC,MAAM,GAAGC,SAAb;AAAA,QAAwBC,QAAQ,GAAG,EAAnC;;AACA,QAAI,OAAOH,IAAP,KAAgB,QAAhB,IAA4BP,SAAS,CAACO,IAAD,CAAzC,EAAiD;AAC/CC,MAAAA,MAAM,GAAGR,SAAS,CAACO,IAAD,CAAlB;AACAG,MAAAA,QAAQ,GAAG;AAACC,QAAAA,IAAI,EAAEH,MAAM,CAACG,IAAP,IAAeJ,IAAtB;AAA4BC,QAAAA,MAAM,EAAED;AAApC,OAAX;AACD,KAHD,MAGO,IAAI,QAAOA,IAAP,MAAgB,QAApB,EAA8B;AACnCC,MAAAA,MAAM,GAAGR,SAAS,CAACO,IAAI,CAACC,MAAN,CAAlB;AACAE,MAAAA,QAAQ,GAAGH,IAAX;AACD,KAT0B,CAU3B;;;AACA,QAAI,CAACC,MAAL,EAAa;AACXI,MAAAA,OAAO,CAACC,IAAR,0CAA+CH,QAAQ,CAACF,MAAxD;AACD,KAFD,MAEO;AACL,UAAMM,KAAK,GAAG;AACZH,QAAAA,IAAI,EAAED,QAAQ,CAACC,IAAT,IAAiBH,MAAM,CAACG,IAAxB,IAAgCD,QAAQ,CAACF,MADnC;AAEZO,QAAAA,IAAI,EAAEL,QAAQ,CAACK,IAAT,IAAiBP,MAAM,CAACO,IAFlB;AAGZC,QAAAA,SAAS,EAAER,MAAM,CAACQ,SAHN;AAIZC,QAAAA,QAAQ,EAAEP,QAAQ,CAACO,QAAT,IAAqBT,MAAM,CAACS,QAJ1B;AAKZC,QAAAA,IAAI,EAAE;AACJC,UAAAA,SAAS,EAAET,QAAQ,CAACS,SAAT,IAAsBX,MAAM,CAACW,SAA7B,IAA0C,GADjD;AAEJC,UAAAA,IAAI,EAAEV,QAAQ,CAACU,IAAT,IAAiBZ,MAAM,CAACY,IAF1B;AAGJC,UAAAA,IAAI,EAAEX,QAAQ,CAACW,IAAT,IAAiBb,MAAM,CAACa;AAH1B;AALM,OAAd;;AAWA,UAAIX,QAAQ,CAACY,SAAT,IAAsBd,MAAM,CAACc,SAAjC,EAA4C;AAC1CR,QAAAA,KAAK,CAACI,IAAN,CAAWI,SAAX,GAAuB,IAAvB;AACD;;AACD,UAAIZ,QAAQ,CAACa,QAAT,IAAqBb,QAAQ,CAACa,QAAT,CAAkBC,MAAlB,GAA2B,CAApD,EAAuD;AACrDV,QAAAA,KAAK,CAACS,QAAN,GAAiBpB,WAAW,CAACO,QAAQ,CAACa,QAAV,EAAoBvB,SAApB,CAA5B;AACD;;AACDK,MAAAA,MAAM,CAACoB,IAAP,CAAYX,KAAZ;AACD;AACF,GAjCD;AAkCA,SAAOT,MAAP;AACD;AAED;;;;;;;;;AAOA,SAASqB,UAAT,OAA2CtB,YAA3C,EAAyD;AAAA,MAApCI,MAAoC,QAApCA,MAAoC;AAAA,MAA5BmB,KAA4B,QAA5BA,KAA4B;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;;AACvD;AACA,MAAIxB,YAAJ,EAAkB;AAChBuB,IAAAA,KAAK,CAACE,MAAN,CAAa,yBAAb,EAAwCzB,YAAxC;AACD,GAFD,MAEO;AACLA,IAAAA,YAAY,GAAGuB,KAAK,CAACG,OAAN,CAAc,sBAAd,CAAf;AACD,GANsD,CAOvD;;;AACA,MAAMC,WAAW,GAAGJ,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBF,WAAxC;;AACA,MAAIA,WAAJ,EAAiB;AACf,QAAI3B,YAAY,IAAIA,YAAY,CAACoB,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,UAAMnB,MAAM,GAAGF,WAAW,CAACC,YAAD,EAAeJ,SAAf,CAA1B;AACAkC,MAAAA,eAAe,CAAC7B,MAAD,CAAf;AACA,UAAM8B,WAAW,GAAGC,WAAW,CAAC5B,MAAM,CAAC6B,OAAP,CAAehC,MAAhB,EAAwBA,MAAxB,CAA/B;AACAG,MAAAA,MAAM,CAAC6B,OAAP,mCAAqB7B,MAAM,CAAC6B,OAA5B;AAAqChC,QAAAA,MAAM,EAAE8B;AAA7C;AACA3B,MAAAA,MAAM,CAAC8B,OAAP,GAAiB,IAAIpC,MAAJ,iCAAeM,MAAM,CAAC6B,OAAtB;AAA+BhC,QAAAA,MAAM,EAAC;AAAtC,UAA2CiC,OAA5D;AACA9B,MAAAA,MAAM,CAAC+B,SAAP,CAAiBJ,WAAjB;AACD;AACF,GAlBsD,CAmBvD;;;AACAlC,EAAAA,mBAAmB,CAAC2B,IAAD,EAAOpB,MAAM,CAAC6B,OAAP,CAAehC,MAAtB,CAAnB,CApBuD,CAqBvD;;AACA,MAAMmC,SAAS,GAAGhC,MAAM,CAAC6B,OAAP,CAAehC,MAAf,CAAsBoC,IAAtB,CAA2B,UAAAlC,IAAI;AAAA,WAAIA,IAAI,CAACI,IAAL,KAAc,GAAlB;AAAA,GAA/B,CAAlB;AACA,MAAM+B,UAAU,GAAGF,SAAS,IAAIA,SAAS,CAACjB,QAA1C;;AACA,MAAImB,UAAJ,EAAgB;AACdf,IAAAA,KAAK,CAACE,MAAN,CAAa,qBAAb,EAAoCa,UAApC;AACD;AACF;AAED;;;;;;;;AAMA,SAASN,WAAT,CAAqBO,MAArB,EAA6BC,MAA7B,EAAqC;AACnC,MAAMC,SAAS,GAAG,EAAlB;AACAF,EAAAA,MAAM,CAACrC,OAAP,CAAe,UAAAC,IAAI;AAAA,WAAIsC,SAAS,CAACtC,IAAI,CAACI,IAAN,CAAT,GAAuBJ,IAA3B;AAAA,GAAnB;AACAqC,EAAAA,MAAM,CAACtC,OAAP,CAAe,UAAAC,IAAI;AAAA,WAAIsC,SAAS,CAACtC,IAAI,CAACI,IAAN,CAAT,GAAuBJ,IAA3B;AAAA,GAAnB;AACA,SAAOuC,MAAM,CAACC,MAAP,CAAcF,SAAd,CAAP;AACD;AAED;;;;;;AAIA,SAASX,eAAT,CAAyB7B,MAAzB,EAAiC;AAC/BA,EAAAA,MAAM,CAACC,OAAP,CAAe,UAAAQ,KAAK,EAAI;AACtB,QAAMI,IAAI,GAAGJ,KAAK,CAACI,IAAnB;;AACA,QAAIA,IAAJ,EAAU;AACR,UAAIC,SAAS,GAAG,EAAhB;;AACA,UAAI,CAACD,IAAI,CAACC,SAAV,EAAqB;AACnBA,QAAAA,SAAS,CAAC6B,UAAV,GAAuB,GAAvB;AACD,OAFD,MAEM,IAAI,OAAO9B,IAAI,CAACC,SAAZ,KAA0B,QAA9B,EAAwC;AAC5CA,QAAAA,SAAS,CAAC6B,UAAV,GAAuB9B,IAAI,CAACC,SAA5B;AACD,OAFK,MAEC,IAAI,QAAOD,IAAI,CAACC,SAAZ,MAA0B,QAA9B,EAAwC;AAC7CA,QAAAA,SAAS,GAAGD,IAAI,CAACC,SAAjB;AAD6C,yBAE9BA,SAF8B;AAAA,YAEtC8B,IAFsC,cAEtCA,IAFsC;;AAG7C,YAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B9B,UAAAA,SAAS,CAAC8B,IAAV,GAAiB,CAACA,IAAD,CAAjB;AACD;AACF,OANM,MAMA;AACLrC,QAAAA,OAAO,CAACsC,GAAR,SAAmBhC,IAAI,CAACC,SAAxB;AACD;;AACDD,MAAAA,IAAI,CAACC,SAAL,GAAiBA,SAAjB;AACD,KAhBD,MAgBO;AACLL,MAAAA,KAAK,CAACI,IAAN,GAAa;AACXC,QAAAA,SAAS,EAAE;AAAC6B,UAAAA,UAAU,EAAE;AAAb;AADA,OAAb;AAGD;;AACD,QAAIlC,KAAK,CAACS,QAAV,EAAoB;AAClBW,MAAAA,eAAe,CAACpB,KAAK,CAACS,QAAP,CAAf;AACD;AACF,GA1BD;AA2BD;AAED;;;;;;;AAKA,SAAS4B,UAAT,CAAoBxC,IAApB,EAA0B;AACxB,MAAMyC,IAAI,GAAGzC,IAAI,CAAC0C,KAAL,CAAW,GAAX,EAAgBC,MAAhB,CAAuB,UAAA/C,IAAI;AAAA,WAAI,CAACA,IAAI,CAACgD,UAAL,CAAgB,GAAhB,CAAD,IAAyBhD,IAAI,IAAI,EAArC;AAAA,GAA3B,CAAb;AACA6C,EAAAA,IAAI,CAAC3B,IAAL,CAAU,MAAV;AACA,SAAO2B,IAAI,CAACI,IAAL,CAAU,GAAV,CAAP;AACD;AAED;;;;;;;AAKA,SAASC,UAAT,CAAoBC,MAApB,EAA4BrB,OAA5B,EAAqC;AAAA,MAC5BsB,UAD4B,GACHD,MADG,CAC5BC,UAD4B;AAAA,MAChBC,SADgB,GACHF,MADG,CAChBE,SADgB;AAAA,MAE5BpD,MAF4B,GAElB6B,OAFkB,CAE5B7B,MAF4B;AAGnCmD,EAAAA,UAAU,CAACrD,OAAX,CAAmB,UAAAuD,KAAK,EAAI;AAC1B,QAAIA,KAAK,IAAI,OAAOA,KAAP,KAAiB,UAA9B,EAA0C;AACxCrD,MAAAA,MAAM,CAACmD,UAAP,CAAkB,UAACG,EAAD,EAAKC,IAAL,EAAWC,IAAX;AAAA,eAAoBH,KAAK,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAiB3B,OAAjB,CAAzB;AAAA,OAAlB;AACD;AACF,GAJD;AAKAuB,EAAAA,SAAS,CAACtD,OAAV,CAAkB,UAAAuD,KAAK,EAAI;AACzB,QAAIA,KAAK,IAAI,OAAOA,KAAP,KAAiB,UAA9B,EAA0C;AACxCrD,MAAAA,MAAM,CAACoD,SAAP,CAAiB,UAACE,EAAD,EAAKC,IAAL;AAAA,eAAcF,KAAK,CAACC,EAAD,EAAKC,IAAL,EAAW1B,OAAX,CAAnB;AAAA,OAAjB;AACD;AACF,GAJD;AAKD;;AAED,SAAQlC,WAAR,EAAqBuB,UAArB,EAAiCQ,eAAjC,EAAkDiB,UAAlD,EAA8DM,UAA9D","sourcesContent":["import routerMap from '@/router/async/router.map'\nimport {mergeI18nFromRoutes} from '@/utils/i18n'\nimport Router from 'vue-router'\n\n/**\n * 根据 路由配置 和 路由组件注册 解析路由\n * @param routesConfig 路由配置\n * @param routerMap 本地路由组件注册配置\n */\nfunction parseRoutes(routesConfig, routerMap) {\n  let routes = []\n  routesConfig.forEach(item => {\n    // 获取注册在 routerMap 中的 router，初始化 routeCfg\n    let router = undefined, routeCfg = {}\n    if (typeof item === 'string' && routerMap[item]) {\n      router = routerMap[item]\n      routeCfg = {path: router.path || item, router: item}\n    } else if (typeof item === 'object') {\n      router = routerMap[item.router]\n      routeCfg = item\n    }\n    // 从 router 和 routeCfg 解析路由\n    if (!router) {\n      console.warn(`can't find register for router ${routeCfg.router}, please register it in advance.`)\n    } else {\n      const route = {\n        path: routeCfg.path || router.path || routeCfg.router,\n        name: routeCfg.name || router.name,\n        component: router.component,\n        redirect: routeCfg.redirect || router.redirect,\n        meta: {\n          authority: routeCfg.authority || router.authority || '*',\n          icon: routeCfg.icon || router.icon,\n          page: routeCfg.page || router.page\n        }\n      }\n      if (routeCfg.invisible || router.invisible) {\n        route.meta.invisible = true\n      }\n      if (routeCfg.children && routeCfg.children.length > 0) {\n        route.children = parseRoutes(routeCfg.children, routerMap)\n      }\n      routes.push(route)\n    }\n  })\n  return routes\n}\n\n/**\n * 加载路由\n * @param router 应用路由实例\n * @param store 应用的 vuex.store 实例\n * @param i18n 应用的 vue-i18n 实例\n * @param routesConfig 路由配置\n */\nfunction loadRoutes({router, store, i18n}, routesConfig) {\n  // 如果 routesConfig 有值，则更新到本地，否则从本地获取\n  if (routesConfig) {\n    store.commit('account/setRoutesConfig', routesConfig)\n  } else {\n    routesConfig = store.getters['account/routesConfig']\n  }\n  // 如果开启了异步路由，则加载异步路由配置\n  const asyncRoutes = store.state.setting.asyncRoutes\n  if (asyncRoutes) {\n    if (routesConfig && routesConfig.length > 0) {\n      const routes = parseRoutes(routesConfig, routerMap)\n      formatAuthority(routes)\n      const finalRoutes = mergeRoutes(router.options.routes, routes)\n      router.options = {...router.options, routes: finalRoutes}\n      router.matcher = new Router({...router.options, routes:[]}).matcher\n      router.addRoutes(finalRoutes)\n    }\n  }\n  // 提取路由国际化数据\n  mergeI18nFromRoutes(i18n, router.options.routes)\n  // 初始化Admin后台菜单数据\n  const rootRoute = router.options.routes.find(item => item.path === '/')\n  const menuRoutes = rootRoute && rootRoute.children\n  if (menuRoutes) {\n    store.commit('setting/setMenuData', menuRoutes)\n  }\n}\n\n/**\n * 合并路由\n * @param target {Route[]}\n * @param source {Route[]}\n * @returns {Route[]}\n */\nfunction mergeRoutes(target, source) {\n  const routesMap = {}\n  target.forEach(item => routesMap[item.path] = item)\n  source.forEach(item => routesMap[item.path] = item)\n  return Object.values(routesMap)\n}\n\n/**\n * 格式化路由的权限配置\n * @param routes\n */\nfunction formatAuthority(routes) {\n  routes.forEach(route => {\n    const meta = route.meta\n    if (meta) {\n      let authority = {}\n      if (!meta.authority) {\n        authority.permission = '*'\n      }else if (typeof meta.authority === 'string') {\n        authority.permission = meta.authority\n      } else if (typeof meta.authority === 'object') {\n        authority = meta.authority\n        const {role} = authority\n        if (typeof role === 'string') {\n          authority.role = [role]\n        }\n      } else {\n        console.log(typeof meta.authority)\n      }\n      meta.authority = authority\n    } else {\n      route.meta = {\n        authority: {permission: '*'}\n      }\n    }\n    if (route.children) {\n      formatAuthority(route.children)\n    }\n  })\n}\n\n/**\n * 从路由 path 解析 i18n key\n * @param path\n * @returns {*}\n */\nfunction getI18nKey(path) {\n  const keys = path.split('/').filter(item => !item.startsWith(':') && item != '')\n  keys.push('name')\n  return keys.join('.')\n}\n\n/**\n * 加载导航守卫\n * @param guards\n * @param options\n */\nfunction loadGuards(guards, options) {\n  const {beforeEach, afterEach} = guards\n  const {router} = options\n  beforeEach.forEach(guard => {\n    if (guard && typeof guard === 'function') {\n      router.beforeEach((to, from, next) => guard(to, from, next, options))\n    }\n  })\n  afterEach.forEach(guard => {\n    if (guard && typeof guard === 'function') {\n      router.afterEach((to, from) => guard(to, from, options))\n    }\n  })\n}\n\nexport {parseRoutes, loadRoutes, formatAuthority, getI18nKey, loadGuards}\n"]}]}