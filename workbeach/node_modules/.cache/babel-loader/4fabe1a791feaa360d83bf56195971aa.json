{"remainingRequest":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/vue-antd-admin/src/services/user.js","dependencies":[{"path":"/Applications/MAMP/gopath/vue-antd-admin/src/services/user.js","mtime":1598927029040},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2dvcGF0aC92dWUtYW50ZC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IExPR0lOLCBST1VURVMgfSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7CmltcG9ydCB7IHJlcXVlc3QsIE1FVEhPRCwgcmVtb3ZlQXV0aG9yaXphdGlvbiB9IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7Ci8qKgogKiDnmbvlvZXmnI3liqEKICogQHBhcmFtIG5hbWUg6LSm5oi35ZCNCiAqIEBwYXJhbSBwYXNzd29yZCDotKbmiLflr4bnoIEKICogQHJldHVybnMge1Byb21pc2U8QXhpb3NSZXNwb25zZTxUPj59CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKF94LCBfeDIpIHsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9sb2dpbigpIHsKICBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobmFtZSwgcGFzc3dvcmQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVxdWVzdChMT0dJTiwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRSb3V0ZXNDb25maWcoKSB7CiAgcmV0dXJuIF9nZXRSb3V0ZXNDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioKICog6YCA5Ye655m75b2VCiAqLwoKZnVuY3Rpb24gX2dldFJvdXRlc0NvbmZpZygpIHsKICBfZ2V0Um91dGVzQ29uZmlnID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXF1ZXN0KFJPVVRFUywgTUVUSE9ELkdFVCkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2dldFJvdXRlc0NvbmZpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbG9nb3V0KCkgewogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfUk9VVEVTX0tFWSk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9QRVJNSVNTSU9OU19LRVkpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfUk9MRVNfS0VZKTsKICByZW1vdmVBdXRob3JpemF0aW9uKCk7Cn0KZXhwb3J0IGRlZmF1bHQgewogIGxvZ2luOiBsb2dpbiwKICBsb2dvdXQ6IGxvZ291dCwKICBnZXRSb3V0ZXNDb25maWc6IGdldFJvdXRlc0NvbmZpZwp9Ow=="},{"version":3,"sources":["/Applications/MAMP/gopath/vue-antd-admin/src/services/user.js"],"names":["LOGIN","ROUTES","request","METHOD","removeAuthorization","login","name","password","POST","getRoutesConfig","GET","logout","localStorage","removeItem","process","env","VUE_APP_ROUTES_KEY","VUE_APP_PERMISSIONS_KEY","VUE_APP_ROLES_KEY"],"mappings":";;AAAA,SAAQA,KAAR,EAAeC,MAAf,QAA4B,gBAA5B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,mBAAzB,QAAmD,iBAAnD;AAEA;;;;;;;AAMA,gBAAsBC,KAAtB;AAAA;AAAA;;;mEAAO,iBAAqBC,IAArB,EAA2BC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACEL,OAAO,CAACF,KAAD,EAAQG,MAAM,CAACK,IAAf,EAAqB;AACjCF,cAAAA,IAAI,EAAEA,IAD2B;AAEjCC,cAAAA,QAAQ,EAAEA;AAFuB,aAArB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBE,eAAtB;AAAA;AAAA;AAIA;;;;;6EAJO;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEP,OAAO,CAACD,MAAD,EAASE,MAAM,CAACO,GAAhB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,OAAO,SAASC,MAAT,GAAkB;AACvBC,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYC,kBAApC;AACAJ,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYE,uBAApC;AACAL,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYG,iBAApC;AACAd,EAAAA,mBAAmB;AACpB;AACD,eAAe;AACbC,EAAAA,KAAK,EAALA,KADa;AAEbM,EAAAA,MAAM,EAANA,MAFa;AAGbF,EAAAA,eAAe,EAAfA;AAHa,CAAf","sourcesContent":["import {LOGIN, ROUTES} from '@/services/api'\nimport {request, METHOD, removeAuthorization} from '@/utils/request'\n\n/**\n * 登录服务\n * @param name 账户名\n * @param password 账户密码\n * @returns {Promise<AxiosResponse<T>>}\n */\nexport async function login(name, password) {\n  return request(LOGIN, METHOD.POST, {\n    name: name,\n    password: password\n  })\n}\n\nexport async function getRoutesConfig() {\n  return request(ROUTES, METHOD.GET)\n}\n\n/**\n * 退出登录\n */\nexport function logout() {\n  localStorage.removeItem(process.env.VUE_APP_ROUTES_KEY)\n  localStorage.removeItem(process.env.VUE_APP_PERMISSIONS_KEY)\n  localStorage.removeItem(process.env.VUE_APP_ROLES_KEY)\n  removeAuthorization()\n}\nexport default {\n  login,\n  logout,\n  getRoutesConfig\n}\n"]}]}