{"remainingRequest":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/workbench/workbeach/src/utils/routerUtil.js","dependencies":[{"path":"/Applications/MAMP/gopath/workbench/workbeach/src/utils/routerUtil.js","mtime":1598927029047},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2dvcGF0aC93b3JrYmVuY2gvd29ya2JlYWNoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2dvcGF0aC93b3JrYmVuY2gvd29ya2JlYWNoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgcm91dGVyTWFwIGZyb20gJ0Avcm91dGVyL2FzeW5jL3JvdXRlci5tYXAnOwppbXBvcnQgeyBtZXJnZUkxOG5Gcm9tUm91dGVzIH0gZnJvbSAnQC91dGlscy9pMThuJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKLyoqCiAqIOagueaNriDot6/nlLHphY3nva4g5ZKMIOi3r+eUsee7hOS7tuazqOWGjCDop6PmnpDot6/nlLEKICogQHBhcmFtIHJvdXRlc0NvbmZpZyDot6/nlLHphY3nva4KICogQHBhcmFtIHJvdXRlck1hcCDmnKzlnLDot6/nlLHnu4Tku7bms6jlhozphY3nva4KICovCgpmdW5jdGlvbiBwYXJzZVJvdXRlcyhyb3V0ZXNDb25maWcsIHJvdXRlck1hcCkgewogIHZhciByb3V0ZXMgPSBbXTsKICByb3V0ZXNDb25maWcuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgLy8g6I635Y+W5rOo5YaM5ZyoIHJvdXRlck1hcCDkuK3nmoQgcm91dGVy77yM5Yid5aeL5YyWIHJvdXRlQ2ZnCiAgICB2YXIgcm91dGVyID0gdW5kZWZpbmVkLAogICAgICAgIHJvdXRlQ2ZnID0ge307CgogICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyAmJiByb3V0ZXJNYXBbaXRlbV0pIHsKICAgICAgcm91dGVyID0gcm91dGVyTWFwW2l0ZW1dOwogICAgICByb3V0ZUNmZyA9IHsKICAgICAgICBwYXRoOiByb3V0ZXIucGF0aCB8fCBpdGVtLAogICAgICAgIHJvdXRlcjogaXRlbQogICAgICB9OwogICAgfSBlbHNlIGlmIChfdHlwZW9mKGl0ZW0pID09PSAnb2JqZWN0JykgewogICAgICByb3V0ZXIgPSByb3V0ZXJNYXBbaXRlbS5yb3V0ZXJdOwogICAgICByb3V0ZUNmZyA9IGl0ZW07CiAgICB9IC8vIOS7jiByb3V0ZXIg5ZKMIHJvdXRlQ2ZnIOino+aekOi3r+eUsQoKCiAgICBpZiAoIXJvdXRlcikgewogICAgICBjb25zb2xlLndhcm4oImNhbid0IGZpbmQgcmVnaXN0ZXIgZm9yIHJvdXRlciAiLmNvbmNhdChyb3V0ZUNmZy5yb3V0ZXIsICIsIHBsZWFzZSByZWdpc3RlciBpdCBpbiBhZHZhbmNlLiIpKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByb3V0ZSA9IHsKICAgICAgICBwYXRoOiByb3V0ZUNmZy5wYXRoIHx8IHJvdXRlci5wYXRoIHx8IHJvdXRlQ2ZnLnJvdXRlciwKICAgICAgICBuYW1lOiByb3V0ZUNmZy5uYW1lIHx8IHJvdXRlci5uYW1lLAogICAgICAgIGNvbXBvbmVudDogcm91dGVyLmNvbXBvbmVudCwKICAgICAgICByZWRpcmVjdDogcm91dGVDZmcucmVkaXJlY3QgfHwgcm91dGVyLnJlZGlyZWN0LAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIGF1dGhvcml0eTogcm91dGVDZmcuYXV0aG9yaXR5IHx8IHJvdXRlci5hdXRob3JpdHkgfHwgJyonLAogICAgICAgICAgaWNvbjogcm91dGVDZmcuaWNvbiB8fCByb3V0ZXIuaWNvbiwKICAgICAgICAgIHBhZ2U6IHJvdXRlQ2ZnLnBhZ2UgfHwgcm91dGVyLnBhZ2UKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAocm91dGVDZmcuaW52aXNpYmxlIHx8IHJvdXRlci5pbnZpc2libGUpIHsKICAgICAgICByb3V0ZS5tZXRhLmludmlzaWJsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChyb3V0ZUNmZy5jaGlsZHJlbiAmJiByb3V0ZUNmZy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgcm91dGUuY2hpbGRyZW4gPSBwYXJzZVJvdXRlcyhyb3V0ZUNmZy5jaGlsZHJlbiwgcm91dGVyTWFwKTsKICAgICAgfQoKICAgICAgcm91dGVzLnB1c2gocm91dGUpOwogICAgfQogIH0pOwogIHJldHVybiByb3V0ZXM7Cn0KLyoqCiAqIOWKoOi9vei3r+eUsQogKiBAcGFyYW0gcm91dGVyIOW6lOeUqOi3r+eUseWunuS+iwogKiBAcGFyYW0gc3RvcmUg5bqU55So55qEIHZ1ZXguc3RvcmUg5a6e5L6LCiAqIEBwYXJhbSBpMThuIOW6lOeUqOeahCB2dWUtaTE4biDlrp7kvosKICogQHBhcmFtIHJvdXRlc0NvbmZpZyDot6/nlLHphY3nva4KICovCgoKZnVuY3Rpb24gbG9hZFJvdXRlcyhfcmVmLCByb3V0ZXNDb25maWcpIHsKICB2YXIgcm91dGVyID0gX3JlZi5yb3V0ZXIsCiAgICAgIHN0b3JlID0gX3JlZi5zdG9yZSwKICAgICAgaTE4biA9IF9yZWYuaTE4bjsKCiAgLy8g5aaC5p6cIHJvdXRlc0NvbmZpZyDmnInlgLzvvIzliJnmm7TmlrDliLDmnKzlnLDvvIzlkKbliJnku47mnKzlnLDojrflj5YKICBpZiAocm91dGVzQ29uZmlnKSB7CiAgICBzdG9yZS5jb21taXQoJ2FjY291bnQvc2V0Um91dGVzQ29uZmlnJywgcm91dGVzQ29uZmlnKTsKICB9IGVsc2UgewogICAgcm91dGVzQ29uZmlnID0gc3RvcmUuZ2V0dGVyc1snYWNjb3VudC9yb3V0ZXNDb25maWcnXTsKICB9IC8vIOWmguaenOW8gOWQr+S6huW8guatpei3r+eUse+8jOWImeWKoOi9veW8guatpei3r+eUsemFjee9rgoKCiAgdmFyIGFzeW5jUm91dGVzID0gc3RvcmUuc3RhdGUuc2V0dGluZy5hc3luY1JvdXRlczsKCiAgaWYgKGFzeW5jUm91dGVzKSB7CiAgICBpZiAocm91dGVzQ29uZmlnICYmIHJvdXRlc0NvbmZpZy5sZW5ndGggPiAwKSB7CiAgICAgIHZhciByb3V0ZXMgPSBwYXJzZVJvdXRlcyhyb3V0ZXNDb25maWcsIHJvdXRlck1hcCk7CiAgICAgIGZvcm1hdEF1dGhvcml0eShyb3V0ZXMpOwogICAgICB2YXIgZmluYWxSb3V0ZXMgPSBtZXJnZVJvdXRlcyhyb3V0ZXIub3B0aW9ucy5yb3V0ZXMsIHJvdXRlcyk7CiAgICAgIHJvdXRlci5vcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZXIub3B0aW9ucyksIHt9LCB7CiAgICAgICAgcm91dGVzOiBmaW5hbFJvdXRlcwogICAgICB9KTsKICAgICAgcm91dGVyLm1hdGNoZXIgPSBuZXcgUm91dGVyKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm91dGVyLm9wdGlvbnMpLCB7fSwgewogICAgICAgIHJvdXRlczogW10KICAgICAgfSkpLm1hdGNoZXI7CiAgICAgIHJvdXRlci5hZGRSb3V0ZXMoZmluYWxSb3V0ZXMpOwogICAgfQogIH0gLy8g5o+Q5Y+W6Lev55Sx5Zu96ZmF5YyW5pWw5o2uCgoKICBtZXJnZUkxOG5Gcm9tUm91dGVzKGkxOG4sIHJvdXRlci5vcHRpb25zLnJvdXRlcyk7IC8vIOWIneWni+WMlkFkbWlu5ZCO5Y+w6I+c5Y2V5pWw5o2uCgogIHZhciByb290Um91dGUgPSByb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gJy8nOwogIH0pOwogIHZhciBtZW51Um91dGVzID0gcm9vdFJvdXRlICYmIHJvb3RSb3V0ZS5jaGlsZHJlbjsKCiAgaWYgKG1lbnVSb3V0ZXMpIHsKICAgIHN0b3JlLmNvbW1pdCgnc2V0dGluZy9zZXRNZW51RGF0YScsIG1lbnVSb3V0ZXMpOwogIH0KfQovKioKICog5ZCI5bm26Lev55SxCiAqIEBwYXJhbSB0YXJnZXQge1JvdXRlW119CiAqIEBwYXJhbSBzb3VyY2Uge1JvdXRlW119CiAqIEByZXR1cm5zIHtSb3V0ZVtdfQogKi8KCgpmdW5jdGlvbiBtZXJnZVJvdXRlcyh0YXJnZXQsIHNvdXJjZSkgewogIHZhciByb3V0ZXNNYXAgPSB7fTsKICB0YXJnZXQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIHJvdXRlc01hcFtpdGVtLnBhdGhdID0gaXRlbTsKICB9KTsKICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIHJvdXRlc01hcFtpdGVtLnBhdGhdID0gaXRlbTsKICB9KTsKICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyb3V0ZXNNYXApOwp9Ci8qKgogKiDmoLzlvI/ljJbot6/nlLHnmoTmnYPpmZDphY3nva4KICogQHBhcmFtIHJvdXRlcwogKi8KCgpmdW5jdGlvbiBmb3JtYXRBdXRob3JpdHkocm91dGVzKSB7CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICB2YXIgbWV0YSA9IHJvdXRlLm1ldGE7CgogICAgaWYgKG1ldGEpIHsKICAgICAgdmFyIGF1dGhvcml0eSA9IHt9OwoKICAgICAgaWYgKCFtZXRhLmF1dGhvcml0eSkgewogICAgICAgIGF1dGhvcml0eS5wZXJtaXNzaW9uID0gJyonOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRhLmF1dGhvcml0eSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBhdXRob3JpdHkucGVybWlzc2lvbiA9IG1ldGEuYXV0aG9yaXR5OwogICAgICB9IGVsc2UgaWYgKF90eXBlb2YobWV0YS5hdXRob3JpdHkpID09PSAnb2JqZWN0JykgewogICAgICAgIGF1dGhvcml0eSA9IG1ldGEuYXV0aG9yaXR5OwogICAgICAgIHZhciBfYXV0aG9yaXR5ID0gYXV0aG9yaXR5LAogICAgICAgICAgICByb2xlID0gX2F1dGhvcml0eS5yb2xlOwoKICAgICAgICBpZiAodHlwZW9mIHJvbGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBhdXRob3JpdHkucm9sZSA9IFtyb2xlXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coX3R5cGVvZihtZXRhLmF1dGhvcml0eSkpOwogICAgICB9CgogICAgICBtZXRhLmF1dGhvcml0eSA9IGF1dGhvcml0eTsKICAgIH0gZWxzZSB7CiAgICAgIHJvdXRlLm1ldGEgPSB7CiAgICAgICAgYXV0aG9yaXR5OiB7CiAgICAgICAgICBwZXJtaXNzaW9uOiAnKicKICAgICAgICB9CiAgICAgIH07CiAgICB9CgogICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7CiAgICAgIGZvcm1hdEF1dGhvcml0eShyb3V0ZS5jaGlsZHJlbik7CiAgICB9CiAgfSk7Cn0KLyoqCiAqIOS7jui3r+eUsSBwYXRoIOino+aekCBpMThuIGtleQogKiBAcGFyYW0gcGF0aAogKiBAcmV0dXJucyB7Kn0KICovCgoKZnVuY3Rpb24gZ2V0STE4bktleShwYXRoKSB7CiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gIWl0ZW0uc3RhcnRzV2l0aCgnOicpICYmIGl0ZW0gIT0gJyc7CiAgfSk7CiAga2V5cy5wdXNoKCduYW1lJyk7CiAgcmV0dXJuIGtleXMuam9pbignLicpOwp9Ci8qKgogKiDliqDovb3lr7zoiKrlrojljasKICogQHBhcmFtIGd1YXJkcwogKiBAcGFyYW0gb3B0aW9ucwogKi8KCgpmdW5jdGlvbiBsb2FkR3VhcmRzKGd1YXJkcywgb3B0aW9ucykgewogIHZhciBiZWZvcmVFYWNoID0gZ3VhcmRzLmJlZm9yZUVhY2gsCiAgICAgIGFmdGVyRWFjaCA9IGd1YXJkcy5hZnRlckVhY2g7CiAgdmFyIHJvdXRlciA9IG9wdGlvbnMucm91dGVyOwogIGJlZm9yZUVhY2guZm9yRWFjaChmdW5jdGlvbiAoZ3VhcmQpIHsKICAgIGlmIChndWFyZCAmJiB0eXBlb2YgZ3VhcmQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgcmV0dXJuIGd1YXJkKHRvLCBmcm9tLCBuZXh0LCBvcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSk7CiAgYWZ0ZXJFYWNoLmZvckVhY2goZnVuY3Rpb24gKGd1YXJkKSB7CiAgICBpZiAoZ3VhcmQgJiYgdHlwZW9mIGd1YXJkID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvLCBmcm9tKSB7CiAgICAgICAgcmV0dXJuIGd1YXJkKHRvLCBmcm9tLCBvcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB7IHBhcnNlUm91dGVzLCBsb2FkUm91dGVzLCBmb3JtYXRBdXRob3JpdHksIGdldEkxOG5LZXksIGxvYWRHdWFyZHMgfTs="},{"version":3,"sources":["/Applications/MAMP/gopath/workbench/workbeach/src/utils/routerUtil.js"],"names":["routerMap","mergeI18nFromRoutes","Router","parseRoutes","routesConfig","routes","forEach","item","router","undefined","routeCfg","path","console","warn","route","name","component","redirect","meta","authority","icon","page","invisible","children","length","push","loadRoutes","store","i18n","commit","getters","asyncRoutes","state","setting","formatAuthority","finalRoutes","mergeRoutes","options","matcher","addRoutes","rootRoute","find","menuRoutes","target","source","routesMap","Object","values","permission","role","log","getI18nKey","keys","split","filter","startsWith","join","loadGuards","guards","beforeEach","afterEach","guard","to","from","next"],"mappings":"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","sourcesContent":["import routerMap from '@/router/async/router.map'\nimport {mergeI18nFromRoutes} from '@/utils/i18n'\nimport Router from 'vue-router'\n\n/**\n * 根据 路由配置 和 路由组件注册 解析路由\n * @param routesConfig 路由配置\n * @param routerMap 本地路由组件注册配置\n */\nfunction parseRoutes(routesConfig, routerMap) {\n  let routes = []\n  routesConfig.forEach(item => {\n    // 获取注册在 routerMap 中的 router，初始化 routeCfg\n    let router = undefined, routeCfg = {}\n    if (typeof item === 'string' && routerMap[item]) {\n      router = routerMap[item]\n      routeCfg = {path: router.path || item, router: item}\n    } else if (typeof item === 'object') {\n      router = routerMap[item.router]\n      routeCfg = item\n    }\n    // 从 router 和 routeCfg 解析路由\n    if (!router) {\n      console.warn(`can't find register for router ${routeCfg.router}, please register it in advance.`)\n    } else {\n      const route = {\n        path: routeCfg.path || router.path || routeCfg.router,\n        name: routeCfg.name || router.name,\n        component: router.component,\n        redirect: routeCfg.redirect || router.redirect,\n        meta: {\n          authority: routeCfg.authority || router.authority || '*',\n          icon: routeCfg.icon || router.icon,\n          page: routeCfg.page || router.page\n        }\n      }\n      if (routeCfg.invisible || router.invisible) {\n        route.meta.invisible = true\n      }\n      if (routeCfg.children && routeCfg.children.length > 0) {\n        route.children = parseRoutes(routeCfg.children, routerMap)\n      }\n      routes.push(route)\n    }\n  })\n  return routes\n}\n\n/**\n * 加载路由\n * @param router 应用路由实例\n * @param store 应用的 vuex.store 实例\n * @param i18n 应用的 vue-i18n 实例\n * @param routesConfig 路由配置\n */\nfunction loadRoutes({router, store, i18n}, routesConfig) {\n  // 如果 routesConfig 有值，则更新到本地，否则从本地获取\n  if (routesConfig) {\n    store.commit('account/setRoutesConfig', routesConfig)\n  } else {\n    routesConfig = store.getters['account/routesConfig']\n  }\n  // 如果开启了异步路由，则加载异步路由配置\n  const asyncRoutes = store.state.setting.asyncRoutes\n  if (asyncRoutes) {\n    if (routesConfig && routesConfig.length > 0) {\n      const routes = parseRoutes(routesConfig, routerMap)\n      formatAuthority(routes)\n      const finalRoutes = mergeRoutes(router.options.routes, routes)\n      router.options = {...router.options, routes: finalRoutes}\n      router.matcher = new Router({...router.options, routes:[]}).matcher\n      router.addRoutes(finalRoutes)\n    }\n  }\n  // 提取路由国际化数据\n  mergeI18nFromRoutes(i18n, router.options.routes)\n  // 初始化Admin后台菜单数据\n  const rootRoute = router.options.routes.find(item => item.path === '/')\n  const menuRoutes = rootRoute && rootRoute.children\n  if (menuRoutes) {\n    store.commit('setting/setMenuData', menuRoutes)\n  }\n}\n\n/**\n * 合并路由\n * @param target {Route[]}\n * @param source {Route[]}\n * @returns {Route[]}\n */\nfunction mergeRoutes(target, source) {\n  const routesMap = {}\n  target.forEach(item => routesMap[item.path] = item)\n  source.forEach(item => routesMap[item.path] = item)\n  return Object.values(routesMap)\n}\n\n/**\n * 格式化路由的权限配置\n * @param routes\n */\nfunction formatAuthority(routes) {\n  routes.forEach(route => {\n    const meta = route.meta\n    if (meta) {\n      let authority = {}\n      if (!meta.authority) {\n        authority.permission = '*'\n      }else if (typeof meta.authority === 'string') {\n        authority.permission = meta.authority\n      } else if (typeof meta.authority === 'object') {\n        authority = meta.authority\n        const {role} = authority\n        if (typeof role === 'string') {\n          authority.role = [role]\n        }\n      } else {\n        console.log(typeof meta.authority)\n      }\n      meta.authority = authority\n    } else {\n      route.meta = {\n        authority: {permission: '*'}\n      }\n    }\n    if (route.children) {\n      formatAuthority(route.children)\n    }\n  })\n}\n\n/**\n * 从路由 path 解析 i18n key\n * @param path\n * @returns {*}\n */\nfunction getI18nKey(path) {\n  const keys = path.split('/').filter(item => !item.startsWith(':') && item != '')\n  keys.push('name')\n  return keys.join('.')\n}\n\n/**\n * 加载导航守卫\n * @param guards\n * @param options\n */\nfunction loadGuards(guards, options) {\n  const {beforeEach, afterEach} = guards\n  const {router} = options\n  beforeEach.forEach(guard => {\n    if (guard && typeof guard === 'function') {\n      router.beforeEach((to, from, next) => guard(to, from, next, options))\n    }\n  })\n  afterEach.forEach(guard => {\n    if (guard && typeof guard === 'function') {\n      router.afterEach((to, from) => guard(to, from, options))\n    }\n  })\n}\n\nexport {parseRoutes, loadRoutes, formatAuthority, getI18nKey, loadGuards}\n"]}]}