{"remainingRequest":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/workbench/workbeach/src/utils/i18n.js","dependencies":[{"path":"/Applications/MAMP/gopath/workbench/workbeach/src/utils/i18n.js","mtime":1598927029046},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVJMThuIGZyb20gJ3Z1ZS1pMThuJzsKaW1wb3J0IHJvdXRlc0kxOG4gZnJvbSAnQC9yb3V0ZXIvaTE4bic7CmltcG9ydCAnLi9PYmplY3RzJzsKaW1wb3J0IHsgZ2V0STE4bktleSB9IGZyb20gJ0AvdXRpbHMvcm91dGVyVXRpbCc7Ci8qKgogKiDliJvlu7ogaTE4biDphY3nva4KICogQHBhcmFtIGxvY2FsZSDmnKzlnLDljJbor63oqIAKICogQHBhcmFtIGZhbGxiYWNrIOWbnumAgOivreiogAogKiBAcmV0dXJucyB7VnVlSTE4bn0KICovCgpmdW5jdGlvbiBpbml0STE4bihsb2NhbGUsIGZhbGxiYWNrKSB7CiAgVnVlLnVzZShWdWVJMThuKTsKICB2YXIgaTE4bk9wdGlvbnMgPSB7CiAgICBsb2NhbGU6IGxvY2FsZSwKICAgIGZhbGxiYWNrTG9jYWxlOiBmYWxsYmFjaywKICAgIHNpbGVudEZhbGxiYWNrV2FybjogdHJ1ZQogIH07CiAgcmV0dXJuIG5ldyBWdWVJMThuKGkxOG5PcHRpb25zKTsKfQovKioKICog5qC55o2uIHJvdXRlciBvcHRpb25zIOmFjee9rueUn+aIkCDlm73pmYXljJbor63oqIAKICogQHBhcmFtIGxhbmcKICogQHBhcmFtIHJvdXRlcwogKiBAcGFyYW0gdmFsdWVLZXkKICogQHJldHVybnMgeyp9CiAqLwoKCmZ1bmN0aW9uIGdlbmVyYXRlSTE4bihsYW5nLCByb3V0ZXMsIHZhbHVlS2V5KSB7CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICB2YXIga2V5cyA9IGdldEkxOG5LZXkocm91dGUuZnVsbFBhdGgpLnNwbGl0KCcuJyk7CiAgICB2YXIgdmFsdWUgPSB2YWx1ZUtleSA9PT0gJ3BhdGgnID8gcm91dGVbdmFsdWVLZXldLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAhaXRlbS5zdGFydHNXaXRoKCc6JykgJiYgaXRlbSAhPSAnJzsKICAgIH0pLmpvaW4oJy4nKSA6IHJvdXRlW3ZhbHVlS2V5XTsKICAgIGxhbmcuYXNzaWduUHJvcHMoa2V5cywgdmFsdWUpOwoKICAgIGlmIChyb3V0ZS5jaGlsZHJlbikgewogICAgICBnZW5lcmF0ZUkxOG4obGFuZywgcm91dGUuY2hpbGRyZW4sIHZhbHVlS2V5KTsKICAgIH0KICB9KTsKICByZXR1cm4gbGFuZzsKfQovKioKICog5qC85byP5YyWIHJvdXRlci5vcHRpb25zLnJvdXRlc++8jOeUn+aIkCBmdWxsUGF0aAogKiBAcGFyYW0gcm91dGVzCiAqIEBwYXJhbSBwYXJlbnRQYXRoCiAqLwoKCmZ1bmN0aW9uIGZvcm1hdEZ1bGxQYXRoKHJvdXRlcykgewogIHZhciBwYXJlbnRQYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIHZhciBpc0Z1bGxQYXRoID0gcm91dGUucGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHJvdXRlLmZ1bGxQYXRoID0gaXNGdWxsUGF0aCA/IHJvdXRlLnBhdGggOiBwYXJlbnRQYXRoID09PSAnLycgPyBwYXJlbnRQYXRoICsgcm91dGUucGF0aCA6IHBhcmVudFBhdGggKyAnLycgKyByb3V0ZS5wYXRoOwoKICAgIGlmIChyb3V0ZS5jaGlsZHJlbikgewogICAgICBmb3JtYXRGdWxsUGF0aChyb3V0ZS5jaGlsZHJlbiwgcm91dGUuZnVsbFBhdGgpOwogICAgfQogIH0pOwp9Ci8qKgogKiDku47ot6/nlLHmj5Dlj5blm73pmYXljJbmlbDmja4KICogQHBhcmFtIGkxOG4KICogQHBhcmFtIHJvdXRlcwogKi8KCgpmdW5jdGlvbiBtZXJnZUkxOG5Gcm9tUm91dGVzKGkxOG4sIHJvdXRlcykgewogIGZvcm1hdEZ1bGxQYXRoKHJvdXRlcyk7CiAgdmFyIENOID0gZ2VuZXJhdGVJMThuKG5ldyBPYmplY3QoKSwgcm91dGVzLCAnbmFtZScpOwogIHZhciBVUyA9IGdlbmVyYXRlSTE4bihuZXcgT2JqZWN0KCksIHJvdXRlcywgJ3BhdGgnKTsKICBpMThuLm1lcmdlTG9jYWxlTWVzc2FnZSgnQ04nLCBDTik7CiAgaTE4bi5tZXJnZUxvY2FsZU1lc3NhZ2UoJ1VTJywgVVMpOwogIHZhciBtZXNzYWdlcyA9IHJvdXRlc0kxOG4ubWVzc2FnZXM7CiAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2goZnVuY3Rpb24gKGxhbmcpIHsKICAgIGkxOG4ubWVyZ2VMb2NhbGVNZXNzYWdlKGxhbmcsIG1lc3NhZ2VzW2xhbmddKTsKICB9KTsKfQoKZXhwb3J0IHsgaW5pdEkxOG4sIG1lcmdlSTE4bkZyb21Sb3V0ZXMsIGZvcm1hdEZ1bGxQYXRoIH07"},{"version":3,"sources":["/Applications/MAMP/gopath/workbench/workbeach/src/utils/i18n.js"],"names":["Vue","VueI18n","routesI18n","getI18nKey","initI18n","locale","fallback","use","i18nOptions","fallbackLocale","silentFallbackWarn","generateI18n","lang","routes","valueKey","forEach","route","keys","fullPath","split","value","filter","item","startsWith","join","assignProps","children","formatFullPath","parentPath","isFullPath","path","substring","mergeI18nFromRoutes","i18n","CN","Object","US","mergeLocaleMessage","messages"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport routesI18n from '@/router/i18n'\nimport './Objects'\nimport {getI18nKey} from '@/utils/routerUtil'\n\n/**\n * 创建 i18n 配置\n * @param locale 本地化语言\n * @param fallback 回退语言\n * @returns {VueI18n}\n */\nfunction initI18n(locale, fallback) {\n  Vue.use(VueI18n)\n  let i18nOptions = {\n    locale,\n    fallbackLocale: fallback,\n    silentFallbackWarn: true,\n  }\n  return new VueI18n(i18nOptions)\n}\n\n/**\n * 根据 router options 配置生成 国际化语言\n * @param lang\n * @param routes\n * @param valueKey\n * @returns {*}\n */\nfunction generateI18n(lang, routes, valueKey) {\n  routes.forEach(route => {\n    let keys = getI18nKey(route.fullPath).split('.')\n    let value = valueKey === 'path' ? route[valueKey].split('/').filter(item => !item.startsWith(':') && item != '').join('.') : route[valueKey]\n    lang.assignProps(keys, value)\n    if (route.children) {\n      generateI18n(lang, route.children, valueKey)\n    }\n  })\n  return lang\n}\n\n/**\n * 格式化 router.options.routes，生成 fullPath\n * @param routes\n * @param parentPath\n */\nfunction formatFullPath(routes, parentPath = '') {\n  routes.forEach(route => {\n    let isFullPath = route.path.substring(0, 1) === '/'\n    route.fullPath = isFullPath ? route.path : (parentPath === '/' ? parentPath + route.path : parentPath + '/' + route.path)\n    if (route.children) {\n      formatFullPath(route.children, route.fullPath)\n    }\n  })\n}\n\n/**\n * 从路由提取国际化数据\n * @param i18n\n * @param routes\n */\nfunction mergeI18nFromRoutes(i18n, routes) {\n  formatFullPath(routes)\n  const CN = generateI18n(new Object(), routes, 'name')\n  const US = generateI18n(new Object(), routes, 'path')\n  i18n.mergeLocaleMessage('CN', CN)\n  i18n.mergeLocaleMessage('US', US)\n  const messages = routesI18n.messages\n  Object.keys(messages).forEach(lang => {\n    i18n.mergeLocaleMessage(lang, messages[lang])\n  })\n}\n\nexport {\n  initI18n,\n  mergeI18nFromRoutes,\n  formatFullPath\n}\n"]}]}