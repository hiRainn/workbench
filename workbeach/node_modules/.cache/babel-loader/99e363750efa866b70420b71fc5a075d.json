{"remainingRequest":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/vue-antd-admin/src/components/cache/AKeepAlive.js","dependencies":[{"path":"/Applications/MAMP/gopath/vue-antd-admin/src/components/cache/AKeepAlive.js","mtime":1598927028990},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgeyBpc0RlZiwgaXNSZWdFeHAsIHJlbW92ZSB9IGZyb20gJ0AvdXRpbHMvdXRpbCc7CnZhciBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XTsKCmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkgewogIGlmIChBcnJheS5pc0FycmF5KHBhdHRlcm4pKSB7CiAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTE7CiAgfSBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xOwogIH0gZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikpIHsKICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7CiAgfQogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgoKICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUob3B0cykgewogIHJldHVybiBvcHRzICYmIChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKTsKfQoKZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChjaGlsZHJlbikgewogIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldOwoKICAgICAgaWYgKGlzRGVmKGMpICYmIChpc0RlZihjLmNvbXBvbmVudE9wdGlvbnMpIHx8IGMuaXNBc3luY1BsYWNlaG9sZGVyKSkgewogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBwcnVuZUNhY2hlKGtlZXBBbGl2ZUluc3RhbmNlLCBmaWx0ZXIpIHsKICB2YXIgY2FjaGUgPSBrZWVwQWxpdmVJbnN0YW5jZS5jYWNoZSwKICAgICAga2V5cyA9IGtlZXBBbGl2ZUluc3RhbmNlLmtleXMsCiAgICAgIF92bm9kZSA9IGtlZXBBbGl2ZUluc3RhbmNlLl92bm9kZTsKCiAgZm9yICh2YXIga2V5IGluIGNhY2hlKSB7CiAgICB2YXIgY2FjaGVkTm9kZSA9IGNhY2hlW2tleV07CgogICAgaWYgKGNhY2hlZE5vZGUpIHsKICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlZE5vZGUuY29tcG9uZW50T3B0aW9ucyk7CgogICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7CiAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMsIF92bm9kZSk7CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5LCBrZXlzLCBjdXJyZW50KSB7CiAgdmFyIGNhY2hlZCA9IGNhY2hlW2tleV07CgogIGlmIChjYWNoZWQgJiYgKCFjdXJyZW50IHx8IGNhY2hlZC50YWcgIT09IGN1cnJlbnQudGFnKSkgewogICAgY2FjaGVkLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7CiAgfQoKICBjYWNoZVtrZXldID0gbnVsbDsKICByZW1vdmUoa2V5cywga2V5KTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBS2VlcEFsaXZlJywKICBhYnN0cmFjdDogdHJ1ZSwKICBtb2RlbDogewogICAgcHJvcDogJ2NsZWFyQ2FjaGVzJywKICAgIGV2ZW50OiAnY2xlYXInCiAgfSwKICBwcm9wczogewogICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLAogICAgZXhjbHVkZTogcGF0dGVyblR5cGVzLAogICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdLAogICAgY2xlYXJDYWNoZXM6IEFycmF5CiAgfSwKICB3YXRjaDogewogICAgY2xlYXJDYWNoZXM6IGZ1bmN0aW9uIGNsZWFyQ2FjaGVzKHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHZhbCAmJiB2YWwubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBjYWNoZSA9IHRoaXMuY2FjaGUsCiAgICAgICAgICAgIGtleXMgPSB0aGlzLmtleXM7CiAgICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMsIF90aGlzLl92bm9kZSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kZW1pdCgnY2xlYXInLCBbXSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIHRoaXMua2V5cyA9IFtdOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jYWNoZSkgewogICAgICBwcnVuZUNhY2hlRW50cnkodGhpcy5jYWNoZSwga2V5LCB0aGlzLmtleXMpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuJHdhdGNoKCdpbmNsdWRlJywgZnVuY3Rpb24gKHZhbCkgewogICAgICBwcnVuZUNhY2hlKF90aGlzMiwgZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICByZXR1cm4gbWF0Y2hlcyh2YWwsIG5hbWUpOwogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy4kd2F0Y2goJ2V4Y2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHBydW5lQ2FjaGUoX3RoaXMyLCBmdW5jdGlvbiAobmFtZSkgewogICAgICAgIHJldHVybiAhbWF0Y2hlcyh2YWwsIG5hbWUpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7CiAgICB2YXIgdm5vZGUgPSBnZXRGaXJzdENvbXBvbmVudENoaWxkKHNsb3QpOwogICAgdmFyIGNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zOwoKICAgIGlmIChjb21wb25lbnRPcHRpb25zKSB7CiAgICAgIC8vIGNoZWNrIHBhdHRlcm4KICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudE9wdGlvbnMpOwogICAgICB2YXIgaW5jbHVkZSA9IHRoaXMuaW5jbHVkZSwKICAgICAgICAgIGV4Y2x1ZGUgPSB0aGlzLmV4Y2x1ZGU7CgogICAgICBpZiAoIC8vIG5vdCBpbmNsdWRlZAogICAgICBpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkgfHwgLy8gZXhjbHVkZWQKICAgICAgZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpIHsKICAgICAgICByZXR1cm4gdm5vZGU7CiAgICAgIH0KCiAgICAgIHZhciBjYWNoZSA9IHRoaXMuY2FjaGUsCiAgICAgICAgICBrZXlzID0gdGhpcy5rZXlzOwogICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGwgLy8gc2FtZSBjb25zdHJ1Y3RvciBtYXkgZ2V0IHJlZ2lzdGVyZWQgYXMgZGlmZmVyZW50IGxvY2FsIGNvbXBvbmVudHMKICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KQogICAgICA/IGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgKyAoY29tcG9uZW50T3B0aW9ucy50YWcgPyAiOjoiLmNvbmNhdChjb21wb25lbnRPcHRpb25zLnRhZykgOiAnJykgOiB2bm9kZS5rZXk7CgogICAgICBpZiAoY2FjaGVba2V5XSkgewogICAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gY2FjaGVba2V5XS5jb21wb25lbnRJbnN0YW5jZTsgLy8gbWFrZSBjdXJyZW50IGtleSBmcmVzaGVzdAoKICAgICAgICByZW1vdmUoa2V5cywga2V5KTsKICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7CiAgICAgICAga2V5cy5wdXNoKGtleSk7IC8vIHBydW5lIG9sZGVzdCBlbnRyeQoKICAgICAgICBpZiAodGhpcy5tYXggJiYga2V5cy5sZW5ndGggPiBwYXJzZUludCh0aGlzLm1heCkpIHsKICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1swXSwga2V5cywgdGhpcy5fdm5vZGUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUgPSB0cnVlOwogICAgfQoKICAgIHJldHVybiB2bm9kZSB8fCBzbG90ICYmIHNsb3RbMF07CiAgfQp9Ow=="},{"version":3,"sources":["/Applications/MAMP/gopath/vue-antd-admin/src/components/cache/AKeepAlive.js"],"names":["isDef","isRegExp","remove","patternTypes","String","RegExp","Array","matches","pattern","name","isArray","indexOf","split","test","getComponentName","opts","Ctor","options","tag","getFirstComponentChild","children","i","length","c","componentOptions","isAsyncPlaceholder","pruneCache","keepAliveInstance","filter","cache","keys","_vnode","key","cachedNode","pruneCacheEntry","current","cached","componentInstance","$destroy","abstract","model","prop","event","props","include","exclude","max","Number","clearCaches","watch","val","forEach","$emit","created","Object","create","destroyed","mounted","$watch","render","slot","$slots","default","vnode","cid","push","parseInt","data","keepAlive"],"mappings":"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","sourcesContent":["import {isDef, isRegExp, remove} from '@/utils/util'\n\nconst patternTypes = [String, RegExp, Array]\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      const c = children[i]\n      if (isDef(c) && (isDef(c.componentOptions) || c.isAsyncPlaceholder)) {\n        return c\n      }\n    }\n  }\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  const { cache, keys, _vnode } = keepAliveInstance\n  for (const key in cache) {\n    const cachedNode = cache[key]\n    if (cachedNode) {\n      const name = getComponentName(cachedNode.componentOptions)\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode)\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (cache, key, keys, current) {\n  const cached = cache[key]\n  if (cached && (!current || cached.tag !== current.tag)) {\n    cached.componentInstance.$destroy()\n  }\n  cache[key] = null\n  remove(keys, key)\n}\n\nexport default {\n  name: 'AKeepAlive',\n  abstract: true,\n  model: {\n    prop: 'clearCaches',\n    event: 'clear',\n  },\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number],\n    clearCaches: Array\n  },\n\n  watch: {\n    clearCaches: function(val) {\n      if (val && val.length > 0) {\n        const {cache, keys} = this\n        val.forEach(key => {\n          pruneCacheEntry(cache, key, keys, this._vnode)\n        })\n        this.$emit('clear', [])\n      }\n    }\n  },\n\n  created() {\n    this.cache = Object.create(null)\n    this.keys = []\n  },\n\n  destroyed () {\n    for (const key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys)\n    }\n  },\n\n  mounted () {\n    this.$watch('include', val => {\n      pruneCache(this, name => matches(val, name))\n    })\n    this.$watch('exclude', val => {\n      pruneCache(this, name => !matches(val, name))\n    })\n  },\n\n  render () {\n    const slot = this.$slots.default\n    const vnode = getFirstComponentChild(slot)\n    const componentOptions = vnode && vnode.componentOptions\n    if (componentOptions) {\n      // check pattern\n      const name = getComponentName(componentOptions)\n      const { include, exclude } = this\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      const { cache, keys } = this\n      const key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? `::${componentOptions.tag}` : '')\n        : vnode.key\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance\n        // make current key freshest\n        remove(keys, key)\n        keys.push(key)\n      } else {\n        cache[key] = vnode\n        keys.push(key)\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode)\n        }\n      }\n\n      vnode.data.keepAlive = true\n    }\n    return vnode || (slot && slot[0])\n  }\n}\n"]}]}