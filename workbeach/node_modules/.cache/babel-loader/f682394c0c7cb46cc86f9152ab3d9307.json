{"remainingRequest":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/workbench/workbeach/src/utils/request.js","dependencies":[{"path":"/Applications/MAMP/gopath/workbench/workbeach/src/utils/request.js","mtime":1598927029047},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9BcHBsaWNhdGlvbnMvTUFNUC9nb3BhdGgvd29ya2JlbmNoL3dvcmtiZWFjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJzsgLy8g6Leo5Z+f6K6k6K+B5L+h5oGvIGhlYWRlciDlkI0KCnZhciB4c3JmSGVhZGVyTmFtZSA9ICdBdXRob3JpemF0aW9uJzsKYXhpb3MuZGVmYXVsdHMudGltZW91dCA9IDUwMDA7CmF4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7CmF4aW9zLmRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lID0geHNyZkhlYWRlck5hbWU7CmF4aW9zLmRlZmF1bHRzLnhzcmZDb29raWVOYW1lID0geHNyZkhlYWRlck5hbWU7IC8vIOiupOivgeexu+WeiwoKdmFyIEFVVEhfVFlQRSA9IHsKICBCRUFSRVI6ICdCZWFyZXInLAogIEJBU0lDOiAnYmFzaWMnLAogIEFVVEgxOiAnYXV0aDEnLAogIEFVVEgyOiAnYXV0aDInCn07IC8vIGh0dHAgbWV0aG9kCgp2YXIgTUVUSE9EID0gewogIEdFVDogJ2dldCcsCiAgUE9TVDogJ3Bvc3QnCn07Ci8qKgogKiBheGlvc+ivt+axggogKiBAcGFyYW0gdXJsIOivt+axguWcsOWdgAogKiBAcGFyYW0gbWV0aG9kIHtNRVRIT0R9IGh0dHAgbWV0aG9kCiAqIEBwYXJhbSBwYXJhbXMg6K+35rGC5Y+C5pWwCiAqIEByZXR1cm5zIHtQcm9taXNlPEF4aW9zUmVzcG9uc2U8VD4+fQogKi8KCmZ1bmN0aW9uIHJlcXVlc3QoX3gsIF94MiwgX3gzKSB7CiAgcmV0dXJuIF9yZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqCiAqIOiuvue9ruiupOivgeS/oeaBrwogKiBAcGFyYW0gYXV0aCB7T2JqZWN0fQogKiBAcGFyYW0gYXV0aFR5cGUge0FVVEhfVFlQRX0g6K6k6K+B57G75Z6L77yM6buY6K6k77yae0FVVEhfVFlQRS5CRUFSRVJ9CiAqLwoKCmZ1bmN0aW9uIF9yZXF1ZXN0KCkgewogIF9yZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVybCwgbWV0aG9kLCBwYXJhbXMpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBtZXRob2Q7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSBfY29udGV4dC50MCA9PT0gTUVUSE9ELkdFVCA/IDMgOiBfY29udGV4dC50MCA9PT0gTUVUSE9ELlBPU1QgPyA0IDogNTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5nZXQodXJsLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3MucG9zdCh1cmwsIHBhcmFtcykpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3MuZ2V0KHVybCwgewogICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfcmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBzZXRBdXRob3JpemF0aW9uKGF1dGgpIHsKICB2YXIgYXV0aFR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IEFVVEhfVFlQRS5CRUFSRVI7CgogIHN3aXRjaCAoYXV0aFR5cGUpIHsKICAgIGNhc2UgQVVUSF9UWVBFLkJFQVJFUjoKICAgICAgQ29va2llLnNldCh4c3JmSGVhZGVyTmFtZSwgJ0JlYXJlciAnICsgYXV0aC50b2tlbiwgewogICAgICAgIGV4cGlyZXM6IGF1dGguZXhwaXJlQXQKICAgICAgfSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgQVVUSF9UWVBFLkJBU0lDOgogICAgY2FzZSBBVVRIX1RZUEUuQVVUSDE6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMjoKICAgIGRlZmF1bHQ6CiAgICAgIGJyZWFrOwogIH0KfQovKioKICog56e75Ye66K6k6K+B5L+h5oGvCiAqIEBwYXJhbSBhdXRoVHlwZSB7QVVUSF9UWVBFfSDorqTor4HnsbvlnosKICovCgoKZnVuY3Rpb24gcmVtb3ZlQXV0aG9yaXphdGlvbigpIHsKICB2YXIgYXV0aFR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IEFVVEhfVFlQRS5CRUFSRVI7CgogIHN3aXRjaCAoYXV0aFR5cGUpIHsKICAgIGNhc2UgQVVUSF9UWVBFLkJFQVJFUjoKICAgICAgQ29va2llLnJlbW92ZSh4c3JmSGVhZGVyTmFtZSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgQVVUSF9UWVBFLkJBU0lDOgogICAgY2FzZSBBVVRIX1RZUEUuQVVUSDE6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMjoKICAgIGRlZmF1bHQ6CiAgICAgIGJyZWFrOwogIH0KfQovKioKICog5qOA5p+l6K6k6K+B5L+h5oGvCiAqIEBwYXJhbSBhdXRoVHlwZQogKiBAcmV0dXJucyB7Ym9vbGVhbn0KICovCgoKZnVuY3Rpb24gY2hlY2tBdXRob3JpemF0aW9uKCkgewogIHZhciBhdXRoVHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogQVVUSF9UWVBFLkJFQVJFUjsKCiAgc3dpdGNoIChhdXRoVHlwZSkgewogICAgY2FzZSBBVVRIX1RZUEUuQkVBUkVSOgogICAgICBpZiAoQ29va2llLmdldCh4c3JmSGVhZGVyTmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgYnJlYWs7CgogICAgY2FzZSBBVVRIX1RZUEUuQkFTSUM6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMToKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgyOgogICAgZGVmYXVsdDoKICAgICAgYnJlYWs7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KLyoqCiAqIOWKoOi9vSBheGlvcyDmi6bmiKrlmagKICogQHBhcmFtIGludGVyY2VwdG9ycwogKiBAcGFyYW0gb3B0aW9ucwogKi8KCgpmdW5jdGlvbiBsb2FkSW50ZXJjZXB0b3JzKGludGVyY2VwdG9ycywgb3B0aW9ucykgewogIHZhciByZXF1ZXN0ID0gaW50ZXJjZXB0b3JzLnJlcXVlc3QsCiAgICAgIHJlc3BvbnNlID0gaW50ZXJjZXB0b3JzLnJlc3BvbnNlOyAvLyDliqDovb3or7fmsYLmi6bmiKrlmagKCiAgcmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgb25GdWxmaWxsZWQgPSBpdGVtLm9uRnVsZmlsbGVkLAogICAgICAgIG9uUmVqZWN0ZWQgPSBpdGVtLm9uUmVqZWN0ZWQ7CgogICAgaWYgKCFvbkZ1bGZpbGxlZCB8fCB0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25GdWxmaWxsZWQgPSBmdW5jdGlvbiBvbkZ1bGZpbGxlZChjb25maWcpIHsKICAgICAgICByZXR1cm4gY29uZmlnOwogICAgICB9OwogICAgfQoKICAgIGlmICghb25SZWplY3RlZCB8fCB0eXBlb2Ygb25SZWplY3RlZCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICBvblJlamVjdGVkID0gZnVuY3Rpb24gb25SZWplY3RlZChlcnJvcikgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH07CiAgICB9CgogICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgcmV0dXJuIG9uRnVsZmlsbGVkKGNvbmZpZywgb3B0aW9ucyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQoZXJyb3IsIG9wdGlvbnMpOwogICAgfSk7CiAgfSk7IC8vIOWKoOi9veWTjeW6lOaLpuaIquWZqAoKICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgb25GdWxmaWxsZWQgPSBpdGVtLm9uRnVsZmlsbGVkLAogICAgICAgIG9uUmVqZWN0ZWQgPSBpdGVtLm9uUmVqZWN0ZWQ7CgogICAgaWYgKCFvbkZ1bGZpbGxlZCB8fCB0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25GdWxmaWxsZWQgPSBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAoIW9uUmVqZWN0ZWQgfHwgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25SZWplY3RlZCA9IGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9OwogICAgfQoKICAgIGF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBvbkZ1bGZpbGxlZChyZXNwb25zZSwgb3B0aW9ucyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQoZXJyb3IsIG9wdGlvbnMpOwogICAgfSk7CiAgfSk7Cn0KCmV4cG9ydCB7IE1FVEhPRCwgQVVUSF9UWVBFLCByZXF1ZXN0LCBzZXRBdXRob3JpemF0aW9uLCByZW1vdmVBdXRob3JpemF0aW9uLCBjaGVja0F1dGhvcml6YXRpb24sIGxvYWRJbnRlcmNlcHRvcnMgfTs="},{"version":3,"sources":["/Applications/MAMP/gopath/workbench/workbeach/src/utils/request.js"],"names":["axios","Cookie","xsrfHeaderName","defaults","timeout","withCredentials","xsrfCookieName","AUTH_TYPE","BEARER","BASIC","AUTH1","AUTH2","METHOD","GET","POST","request","url","method","params","get","post","setAuthorization","auth","authType","set","token","expires","expireAt","removeAuthorization","remove","checkAuthorization","loadInterceptors","interceptors","options","response","forEach","item","onFulfilled","onRejected","config","error","Promise","reject","use"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Cookie from 'js-cookie'\n\n// 跨域认证信息 header 名\nconst xsrfHeaderName = 'Authorization'\n\naxios.defaults.timeout = 5000\naxios.defaults.withCredentials= true\naxios.defaults.xsrfHeaderName= xsrfHeaderName\naxios.defaults.xsrfCookieName= xsrfHeaderName\n\n// 认证类型\nconst AUTH_TYPE = {\n  BEARER: 'Bearer',\n  BASIC: 'basic',\n  AUTH1: 'auth1',\n  AUTH2: 'auth2',\n}\n\n// http method\nconst METHOD = {\n  GET: 'get',\n  POST: 'post'\n}\n\n/**\n * axios请求\n * @param url 请求地址\n * @param method {METHOD} http method\n * @param params 请求参数\n * @returns {Promise<AxiosResponse<T>>}\n */\nasync function request(url, method, params) {\n  switch (method) {\n    case METHOD.GET:\n      return axios.get(url, {params})\n    case METHOD.POST:\n      return axios.post(url, params)\n    default:\n      return axios.get(url, {params})\n  }\n}\n\n/**\n * 设置认证信息\n * @param auth {Object}\n * @param authType {AUTH_TYPE} 认证类型，默认：{AUTH_TYPE.BEARER}\n */\nfunction setAuthorization(auth, authType = AUTH_TYPE.BEARER) {\n  switch (authType) {\n    case AUTH_TYPE.BEARER:\n      Cookie.set(xsrfHeaderName, 'Bearer ' + auth.token, {expires: auth.expireAt})\n      break\n    case AUTH_TYPE.BASIC:\n    case AUTH_TYPE.AUTH1:\n    case AUTH_TYPE.AUTH2:\n    default:\n      break\n  }\n}\n\n/**\n * 移出认证信息\n * @param authType {AUTH_TYPE} 认证类型\n */\nfunction removeAuthorization(authType = AUTH_TYPE.BEARER) {\n  switch (authType) {\n    case AUTH_TYPE.BEARER:\n      Cookie.remove(xsrfHeaderName)\n      break\n    case AUTH_TYPE.BASIC:\n    case AUTH_TYPE.AUTH1:\n    case AUTH_TYPE.AUTH2:\n    default:\n      break\n  }\n}\n\n/**\n * 检查认证信息\n * @param authType\n * @returns {boolean}\n */\nfunction checkAuthorization(authType = AUTH_TYPE.BEARER) {\n  switch (authType) {\n    case AUTH_TYPE.BEARER:\n      if (Cookie.get(xsrfHeaderName)) {\n        return true\n      }\n      break\n    case AUTH_TYPE.BASIC:\n    case AUTH_TYPE.AUTH1:\n    case AUTH_TYPE.AUTH2:\n    default:\n      break\n  }\n  return false\n}\n\n/**\n * 加载 axios 拦截器\n * @param interceptors\n * @param options\n */\nfunction loadInterceptors(interceptors, options) {\n  const {request, response} = interceptors\n  // 加载请求拦截器\n  request.forEach(item => {\n    let {onFulfilled, onRejected} = item\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\n      onFulfilled = config => config\n    }\n    if (!onRejected || typeof onRejected !== 'function') {\n      onRejected = error => Promise.reject(error)\n    }\n    axios.interceptors.request.use(\n      config => onFulfilled(config, options),\n      error => onRejected(error, options)\n    )\n  })\n  // 加载响应拦截器\n  response.forEach(item => {\n    let {onFulfilled, onRejected} = item\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\n      onFulfilled = response => response\n    }\n    if (!onRejected || typeof onRejected !== 'function') {\n      onRejected = error => Promise.reject(error)\n    }\n    axios.interceptors.response.use(\n      response => onFulfilled(response, options),\n      error => onRejected(error, options)\n    )\n  })\n}\n\nexport {\n  METHOD,\n  AUTH_TYPE,\n  request,\n  setAuthorization,\n  removeAuthorization,\n  checkAuthorization,\n  loadInterceptors\n}\n"]}]}