{"remainingRequest":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js!/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/gopath/workbench/workbeach/src/services/user.js","dependencies":[{"path":"/Applications/MAMP/gopath/workbench/workbeach/src/services/user.js","mtime":1598927029040},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2dvcGF0aC93b3JrYmVuY2gvd29ya2JlYWNoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgTE9HSU4sIFJPVVRFUyB9IGZyb20gJ0Avc2VydmljZXMvYXBpJzsKaW1wb3J0IHsgcmVxdWVzdCwgTUVUSE9ELCByZW1vdmVBdXRob3JpemF0aW9uIH0gZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKLyoqCiAqIOeZu+W9leacjeWKoQogKiBAcGFyYW0gbmFtZSDotKbmiLflkI0KICogQHBhcmFtIHBhc3N3b3JkIOi0puaIt+WvhueggQogKiBAcmV0dXJucyB7UHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+Pn0KICovCgpleHBvcnQgZnVuY3Rpb24gbG9naW4oX3gsIF94MikgewogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ2luKCkgewogIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShuYW1lLCBwYXNzd29yZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXF1ZXN0KExPR0lOLCBNRVRIT0QuUE9TVCwgewogICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldFJvdXRlc0NvbmZpZygpIHsKICByZXR1cm4gX2dldFJvdXRlc0NvbmZpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDpgIDlh7rnmbvlvZUKICovCgpmdW5jdGlvbiBfZ2V0Um91dGVzQ29uZmlnKCkgewogIF9nZXRSb3V0ZXNDb25maWcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlcXVlc3QoUk9VVEVTLCBNRVRIT0QuR0VUKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfZ2V0Um91dGVzQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9ST1VURVNfS0VZKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwcm9jZXNzLmVudi5WVUVfQVBQX1BFUk1JU1NJT05TX0tFWSk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9ST0xFU19LRVkpOwogIHJlbW92ZUF1dGhvcml6YXRpb24oKTsKfQpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGxvZ2luLAogIGxvZ291dDogbG9nb3V0LAogIGdldFJvdXRlc0NvbmZpZzogZ2V0Um91dGVzQ29uZmlnCn07"},{"version":3,"sources":["/Applications/MAMP/gopath/workbench/workbeach/src/services/user.js"],"names":["LOGIN","ROUTES","request","METHOD","removeAuthorization","login","name","password","POST","getRoutesConfig","GET","logout","localStorage","removeItem","process","env","VUE_APP_ROUTES_KEY","VUE_APP_PERMISSIONS_KEY","VUE_APP_ROLES_KEY"],"mappings":";;AAAA,SAAQA,KAAR,EAAeC,MAAf,QAA4B,gBAA5B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,mBAAzB,QAAmD,iBAAnD;AAEA;;;;;;;AAMA,gBAAsBC,KAAtB;AAAA;AAAA;;;mEAAO,iBAAqBC,IAArB,EAA2BC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACEL,OAAO,CAACF,KAAD,EAAQG,MAAM,CAACK,IAAf,EAAqB;AACjCF,cAAAA,IAAI,EAAEA,IAD2B;AAEjCC,cAAAA,QAAQ,EAAEA;AAFuB,aAArB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBE,eAAtB;AAAA;AAAA;AAIA;;;;;6EAJO;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEP,OAAO,CAACD,MAAD,EAASE,MAAM,CAACO,GAAhB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,OAAO,SAASC,MAAT,GAAkB;AACvBC,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYC,kBAApC;AACAJ,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYE,uBAApC;AACAL,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYG,iBAApC;AACAd,EAAAA,mBAAmB;AACpB;AACD,eAAe;AACbC,EAAAA,KAAK,EAALA,KADa;AAEbM,EAAAA,MAAM,EAANA,MAFa;AAGbF,EAAAA,eAAe,EAAfA;AAHa,CAAf","sourcesContent":["import {LOGIN, ROUTES} from '@/services/api'\nimport {request, METHOD, removeAuthorization} from '@/utils/request'\n\n/**\n * 登录服务\n * @param name 账户名\n * @param password 账户密码\n * @returns {Promise<AxiosResponse<T>>}\n */\nexport async function login(name, password) {\n  return request(LOGIN, METHOD.POST, {\n    name: name,\n    password: password\n  })\n}\n\nexport async function getRoutesConfig() {\n  return request(ROUTES, METHOD.GET)\n}\n\n/**\n * 退出登录\n */\nexport function logout() {\n  localStorage.removeItem(process.env.VUE_APP_ROUTES_KEY)\n  localStorage.removeItem(process.env.VUE_APP_PERMISSIONS_KEY)\n  localStorage.removeItem(process.env.VUE_APP_ROLES_KEY)\n  removeAuthorization()\n}\nexport default {\n  login,\n  logout,\n  getRoutesConfig\n}\n"]}]}