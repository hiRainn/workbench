{"remainingRequest":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/MAMP/gopath/workbench/workbeach/src/components/tool/TagSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/MAMP/gopath/workbench/workbeach/src/components/tool/TagSelect.vue","mtime":1598927029003},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/workbench/workbeach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYWdTZWxlY3RPcHRpb24gZnJvbSAnLi9UYWdTZWxlY3RPcHRpb24nCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFnU2VsZWN0JywKICBPcHRpb246IFRhZ1NlbGVjdE9wdGlvbiwKICBjb21wb25lbnRzOiB7VGFnU2VsZWN0T3B0aW9ufSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dUcmlnZ2VyOiBmYWxzZSwKICAgICAgY29sbGFwc2VkOiB0cnVlLAogICAgICBzY3JlZW5XaWR0aDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwKICAgICAgY2hlY2tBbGw6IGZhbHNlCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2NyZWVuV2lkdGg6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaG93VHJpZ2dlciA9IHRoaXMubmVlZFRyaWdnZXIoKQogICAgfSwKICAgIGNvbGxhcHNlZDogZnVuY3Rpb24gKHZhbCkgewogICAgICB0aGlzLiRlbC5zdHlsZS5tYXhIZWlnaHQgPSB2YWwgPyAnMzlweCcgOiAnNzhweCcKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgbGV0IF90aGlzID0gdGhpcwogICAgLy8g5q2k5aSE5bu26L+f5omn6KGM77yM5piv5Li66Kej5YazbW91dGVk5pyq5a6M5YWo5a6M5oiQ5oOF5Ya15LiL5byV5Y+R55qEdHJpZ2dlcuaYvuekumJ1ZwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIF90aGlzLnNob3dUcmlnZ2VyID0gX3RoaXMubmVlZFRyaWdnZXIoKQogICAgICBfdGhpcy4kcmVmcy50cmlnZ2VyLnN0eWxlLmRpc3BsYXkgPSBfdGhpcy5zaG93VHJpZ2dlciA/ICdpbmxpbmUnIDogJ25vbmUnCiAgICB9LCAxKQogICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICByZXR1cm4gKCgpID0+IHsKICAgICAgICB3aW5kb3cuc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoCiAgICAgICAgX3RoaXMuc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuV2lkdGgKICAgICAgfSkoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbmVlZFRyaWdnZXIgKCkgewogICAgICByZXR1cm4gdGhpcy4kZWwuY2xpZW50SGVpZ2h0IDwgdGhpcy4kZWwuc2Nyb2xsSGVpZ2h0IHx8IHRoaXMuJGVsLnNjcm9sbEhlaWdodCA+IDM5CiAgICB9LAogICAgdG9nZ2xlICgpIHsKICAgICAgdGhpcy5jb2xsYXBzZWQgPSAhdGhpcy5jb2xsYXBzZWQKICAgIH0sCiAgICBnZXRBbGxUYWdzICgpIHsKICAgICAgY29uc3QgdGFnTGlzdCA9IHRoaXMuJGNoaWxkcmVuLmZpbHRlcigoaXRlbSkgPT4gewogICAgICAgIHJldHVybiBpdGVtLmlzVGFnU2VsZWN0T3B0aW9uCiAgICAgIH0pCiAgICAgIHJldHVybiB0YWdMaXN0CiAgICB9LAogICAgdG9nZ2xlQ2hlY2sgKCkgewogICAgICB0aGlzLmNoZWNrQWxsID0gIXRoaXMuY2hlY2tBbGwKICAgICAgY29uc3QgdGFnTGlzdCA9IHRoaXMuZ2V0QWxsVGFncygpCiAgICAgIHRhZ0xpc3QuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGl0ZW0uY2hlY2tlZCA9IHRoaXMuY2hlY2tBbGwKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["TagSelect.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TagSelect.vue","sourceRoot":"src/components/tool","sourcesContent":["<template>\n  <div class=\"tag-select\">\n    <tag-select-option @click=\"toggleCheck\">全部</tag-select-option>\n    <slot></slot>\n    <a @click=\"toggle\" v-show=\"showTrigger\" ref=\"trigger\" class=\"trigger\">展开<a-icon style=\"margin-left: 5px\" :type=\"collapsed ? 'down' : 'up'\"/></a>\n  </div>\n</template>\n\n<script>\nimport TagSelectOption from './TagSelectOption'\nexport default {\n  name: 'TagSelect',\n  Option: TagSelectOption,\n  components: {TagSelectOption},\n  data () {\n    return {\n      showTrigger: false,\n      collapsed: true,\n      screenWidth: document.body.clientWidth,\n      checkAll: false\n    }\n  },\n  watch: {\n    screenWidth: function () {\n      this.showTrigger = this.needTrigger()\n    },\n    collapsed: function (val) {\n      this.$el.style.maxHeight = val ? '39px' : '78px'\n    }\n  },\n  mounted () {\n    let _this = this\n    // 此处延迟执行，是为解决mouted未完全完成情况下引发的trigger显示bug\n    setTimeout(() => {\n      _this.showTrigger = _this.needTrigger()\n      _this.$refs.trigger.style.display = _this.showTrigger ? 'inline' : 'none'\n    }, 1)\n    window.onresize = () => {\n      return (() => {\n        window.screenWidth = document.body.clientWidth\n        _this.screenWidth = window.screenWidth\n      })()\n    }\n  },\n  methods: {\n    needTrigger () {\n      return this.$el.clientHeight < this.$el.scrollHeight || this.$el.scrollHeight > 39\n    },\n    toggle () {\n      this.collapsed = !this.collapsed\n    },\n    getAllTags () {\n      const tagList = this.$children.filter((item) => {\n        return item.isTagSelectOption\n      })\n      return tagList\n    },\n    toggleCheck () {\n      this.checkAll = !this.checkAll\n      const tagList = this.getAllTags()\n      tagList.forEach((item) => {\n        item.checked = this.checkAll\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .tag-select{\n    user-select: none;\n    position: relative;\n    overflow: hidden;\n    max-height: 39px;\n    padding-right: 50px;\n    display: inline-block;\n  }\n  .trigger{\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n</style>\n"]}]}