{"remainingRequest":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/MAMP/gopath/vue-antd-admin/src/components/checkbox/ColorCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/MAMP/gopath/vue-antd-admin/src/components/checkbox/ColorCheckbox.vue","mtime":1598927028993},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/gopath/vue-antd-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEdyb3VwID0gewogIG5hbWU6ICdDb2xvckNoZWNrYm94R3JvdXAnLAogIHByb3BzOiB7CiAgICBkZWZhdWx0VmFsdWVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZXM6IFtdLAogICAgICBvcHRpb25zOiBbXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbG9ycyAoKSB7CiAgICAgIGxldCBjb2xvcnMgPSBbXQogICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZiAoaXRlbS5zQ2hlY2tlZCkgewogICAgICAgICAgY29sb3JzLnB1c2goaXRlbS5jb2xvcikKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiBjb2xvcnMKICAgIH0KICB9LAogIHByb3ZpZGUgKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JvdXBDb250ZXh0OiB0aGlzCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWVzKHZhbHVlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbHVlLCB0aGlzLmNvbG9ycykKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZSAob3B0aW9uKSB7CiAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIHsKICAgICAgICBpZiAodGhpcy52YWx1ZXMuaW5kZXhPZihvcHRpb24udmFsdWUpID4gLTEpIHsKICAgICAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPSBvcHRpb24udmFsdWUpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkgewogICAgICAgICAgdGhpcy52YWx1ZXMgPSBbb3B0aW9uLnZhbHVlXQogICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlICE9IG9wdGlvbi52YWx1ZSkgewogICAgICAgICAgICAgIGl0ZW0uc0NoZWNrZWQgPSBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKG9wdGlvbi52YWx1ZSkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlciAoaCkgewogICAgY29uc3QgY2xlYXIgPSBoKCdkaXYnLCB7YXR0cnM6IHtzdHlsZTogJ2NsZWFyOiBib3RoJ319KQogICAgcmV0dXJuIGgoCiAgICAgICdkaXYnLAogICAgICB7fSwKICAgICAgW3RoaXMuJHNsb3RzLmRlZmF1bHQsIGNsZWFyXQogICAgKQogIH0KfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb2xvckNoZWNrYm94JywKICBHcm91cDogR3JvdXAsCiAgcHJvcHM6IHsKICAgIGNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNoZWNrZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBzQ2hlY2tlZDogdGhpcy5pbml0Q2hlY2tlZCgpCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogIH0sCiAgaW5qZWN0OiBbJ2dyb3VwQ29udGV4dCddLAogIHdhdGNoOiB7CiAgICAnc0NoZWNrZWQnOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gewogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLAogICAgICAgIGNoZWNrZWQ6IHRoaXMuc0NoZWNrZWQKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSkKICAgICAgY29uc3QgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQKICAgICAgaWYgKGdyb3VwQ29udGV4dCkgewogICAgICAgIGdyb3VwQ29udGV4dC5oYW5kbGVDaGFuZ2UodmFsdWUpCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgY29uc3QgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQKICAgIGlmIChncm91cENvbnRleHQpIHsKICAgICAgZ3JvdXBDb250ZXh0Lm9wdGlvbnMucHVzaCh0aGlzKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlICgpIHsKICAgICAgaWYgKHRoaXMuZ3JvdXBDb250ZXh0Lm11bHRpcGxlIHx8ICF0aGlzLnNDaGVja2VkKSB7CiAgICAgICAgdGhpcy5zQ2hlY2tlZCA9ICF0aGlzLnNDaGVja2VkCiAgICAgIH0KICAgIH0sCiAgICBpbml0Q2hlY2tlZCgpIHsKICAgICAgbGV0IGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0CiAgICAgIGlmICghZ3JvdXBDb250ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZAogICAgICB9ZWxzZSBpZiAoZ3JvdXBDb250ZXh0Lm11bHRpcGxlKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzLmluZGV4T2YodGhpcy52YWx1ZSkgPiAtMQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlc1swXSA9PSB0aGlzLnZhbHVlCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["ColorCheckbox.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ColorCheckbox.vue","sourceRoot":"src/components/checkbox","sourcesContent":["<template>\n  <div class=\"theme-color\" :style=\"{backgroundColor: color}\" @click=\"toggle\">\n    <a-icon v-if=\"sChecked\" type=\"check\" />\n  </div>\n</template>\n\n<script>\nconst Group = {\n  name: 'ColorCheckboxGroup',\n  props: {\n    defaultValues: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    multiple: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data () {\n    return {\n      values: [],\n      options: []\n    }\n  },\n  computed: {\n    colors () {\n      let colors = []\n      this.options.forEach(item => {\n        if (item.sChecked) {\n          colors.push(item.color)\n        }\n      })\n      return colors\n    }\n  },\n  provide () {\n    return {\n      groupContext: this\n    }\n  },\n  watch: {\n    values(value) {\n      this.$emit('change', value, this.colors)\n    }\n  },\n  methods: {\n    handleChange (option) {\n      if (!option.checked) {\n        if (this.values.indexOf(option.value) > -1) {\n          this.values = this.values.filter(item => item != option.value)\n        }\n      } else {\n        if (!this.multiple) {\n          this.values = [option.value]\n          this.options.forEach(item => {\n            if (item.value != option.value) {\n              item.sChecked = false\n            }\n          })\n        } else {\n          this.values.push(option.value)\n        }\n      }\n    }\n  },\n  render (h) {\n    const clear = h('div', {attrs: {style: 'clear: both'}})\n    return h(\n      'div',\n      {},\n      [this.$slots.default, clear]\n    )\n  }\n}\n\nexport default {\n  name: 'ColorCheckbox',\n  Group: Group,\n  props: {\n    color: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: [String, Number],\n      required: true\n    },\n    checked: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data () {\n    return {\n      sChecked: this.initChecked()\n    }\n  },\n  computed: {\n  },\n  inject: ['groupContext'],\n  watch: {\n    'sChecked': function () {\n      const value = {\n        value: this.value,\n        color: this.color,\n        checked: this.sChecked\n      }\n      this.$emit('change', value)\n      const groupContext = this.groupContext\n      if (groupContext) {\n        groupContext.handleChange(value)\n      }\n    }\n  },\n  created () {\n    const groupContext = this.groupContext\n    if (groupContext) {\n      groupContext.options.push(this)\n    }\n  },\n  methods: {\n    toggle () {\n      if (this.groupContext.multiple || !this.sChecked) {\n        this.sChecked = !this.sChecked\n      }\n    },\n    initChecked() {\n      let groupContext = this.groupContext\n      if (!groupContext) {\n        return this.checked\n      }else if (groupContext.multiple) {\n        return groupContext.defaultValues.indexOf(this.value) > -1\n      } else {\n        return groupContext.defaultValues[0] == this.value\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .theme-color{\n    float: left;\n    width: 20px;\n    height: 20px;\n    border-radius: 2px;\n    cursor: pointer;\n    margin-right: 8px;\n    text-align: center;\n    color: @base-bg-color;\n    font-weight: bold;\n  }\n</style>\n"]}]}